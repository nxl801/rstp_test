2025-09-10 11:30:38,594 - root - INFO - 日志系统初始化完成，日志文件: logs\rstp_test_20250910_113038.log
2025-09-10 11:30:38,832 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-10 11:30:38,832 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-10 11:30:38,952 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-10 11:30:38,952 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-10 11:30:39,089 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-10 11:30:39,089 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-10 11:30:39,090 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:39,090 - RSTPTest - INFO - 开始测试: test_port_state_transitions
2025-09-10 11:30:39,091 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:39,091 - test_additional_rstp - INFO - 开始端口状态转换测试
2025-09-10 11:30:39,092 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:30:39,092 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:30:39,092 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:30:39,092 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:30:39,092 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:30:39,093 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-10 11:30:39,093 - NetworkTopology - INFO - DUT: DUT设备，优先检测OVS支持...
2025-09-10 11:30:39,099 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-10 11:30:39,159 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0
2025-09-10 11:30:39,159 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-10 11:30:39,160 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:30:39,160 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:30:39,689 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:30:39,689 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:30:40,750 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:30:40,750 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:30:40,751 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:30:40,751 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:30:41,225 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:30:41,717 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:30:41,717 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:30:41,826 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:30:41,926 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:30:41,926 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:30:41,926 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:30:41,927 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:30:41,927 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:30:41,927 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-10 11:30:41,927 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-10 11:30:41,936 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-10 11:30:41,937 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-10 11:30:42,063 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=0, output=active
2025-09-10 11:30:42,064 - NetworkTopology - INFO - TestNode1: 检测到mstpd支持
2025-09-10 11:30:42,064 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: mstpd
2025-09-10 11:30:42,064 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:30:42,065 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:30:42,589 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:30:42,763 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:30:43,189 - RSTPTest - INFO - 测试完成: test_port_state_transitions (耗时: 4.10秒)
2025-09-10 11:30:43,190 - RSTPTest - INFO - ============================================================

2025-09-10 11:30:43,192 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:43,193 - RSTPTest - INFO - 开始测试: test_bpdu_propagation_and_keepalive
2025-09-10 11:30:43,193 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:43,194 - test_additional_rstp - INFO - 开始BPDU传播和保活机制测试
2025-09-10 11:30:43,194 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:30:43,194 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:30:43,194 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:30:43,194 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:30:43,195 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:30:43,195 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-10 11:30:43,195 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:30:43,195 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:30:43,683 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:30:43,683 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:30:44,719 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:30:44,719 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:30:44,719 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:30:44,720 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:30:45,178 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:30:45,655 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:30:45,655 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:30:45,761 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:30:45,858 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:30:45,858 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:30:45,859 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:30:45,859 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:30:45,859 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:30:45,859 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: mstpd
2025-09-10 11:30:45,860 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:30:45,860 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:30:46,346 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:30:46,515 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:30:46,549 - RSTPTest - INFO - 测试完成: test_bpdu_propagation_and_keepalive (耗时: 3.36秒)
2025-09-10 11:30:46,549 - RSTPTest - INFO - ============================================================

2025-09-10 11:30:46,551 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:46,552 - RSTPTest - INFO - 开始测试: test_disabled_port_exclusion_enhanced
2025-09-10 11:30:46,552 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:46,552 - test_additional_rstp - INFO - 开始增强的禁用端口排除测试
2025-09-10 11:30:46,552 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:30:46,552 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:30:46,553 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:30:46,553 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:30:46,553 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:30:46,553 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-10 11:30:46,553 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:30:46,553 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:30:47,053 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:30:47,053 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:30:48,085 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:30:48,085 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:30:48,085 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:30:48,086 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:30:48,564 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:30:49,042 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:30:49,043 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:30:49,145 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:30:49,241 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:30:49,242 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:30:49,242 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:30:49,242 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:30:49,242 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:30:49,242 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: mstpd
2025-09-10 11:30:49,242 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:30:49,243 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:30:49,732 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:30:49,914 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:30:49,950 - RSTPTest - INFO - 测试完成: test_disabled_port_exclusion_enhanced (耗时: 3.40秒)
2025-09-10 11:30:49,950 - RSTPTest - INFO - ============================================================

2025-09-10 11:30:49,951 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-10 11:30:49,951 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-10 11:30:49,952 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-10 11:30:50,088 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-10 11:30:50,088 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-10 11:30:50,211 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-10 11:30:50,212 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-10 11:30:50,349 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-10 11:30:50,349 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-10 11:30:50,349 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:50,350 - RSTPTest - INFO - 开始测试: test_proposal_agreement_handshake
2025-09-10 11:30:50,350 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:50,350 - test_advanced_rstp_mechanisms - INFO - 开始测试RSTP Proposal/Agreement握手机制
2025-09-10 11:30:50,351 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:30:50,351 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:30:50,351 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:30:50,351 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:30:50,351 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:30:50,351 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-10 11:30:50,352 - NetworkTopology - INFO - DUT: DUT设备，优先检测OVS支持...
2025-09-10 11:30:50,357 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-10 11:30:50,415 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0
2025-09-10 11:30:50,415 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-10 11:30:50,415 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:30:50,416 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:30:50,939 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:30:50,940 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:30:51,980 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:30:51,981 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:30:51,981 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:30:51,981 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:30:52,449 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:30:52,939 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:30:52,939 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:30:53,046 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:30:53,143 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:30:53,143 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:30:53,144 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:30:53,144 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:30:53,144 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:30:53,144 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-10 11:30:53,145 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-10 11:30:53,152 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-10 11:30:53,153 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-10 11:30:53,266 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=0, output=active
2025-09-10 11:30:53,266 - NetworkTopology - INFO - TestNode1: 检测到mstpd支持
2025-09-10 11:30:53,267 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: mstpd
2025-09-10 11:30:53,267 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:30:53,267 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:30:53,793 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:30:53,964 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:30:53,998 - RSTPTest - INFO - 测试完成: test_proposal_agreement_handshake (耗时: 3.65秒)
2025-09-10 11:30:53,999 - RSTPTest - INFO - ============================================================

2025-09-10 11:30:54,001 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:54,001 - RSTPTest - INFO - 开始测试: test_tcn_topology_change_notification
2025-09-10 11:30:54,001 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:54,002 - test_advanced_rstp_mechanisms - INFO - 开始测试TCN拓扑变更通知机制
2025-09-10 11:30:54,002 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:30:54,002 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:30:54,002 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:30:54,003 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:30:54,003 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:30:54,003 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-10 11:30:54,003 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:30:54,003 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:30:54,470 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:30:54,470 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:30:55,527 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:30:55,528 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:30:55,528 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:30:55,528 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:30:55,991 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:30:56,473 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:30:56,474 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:30:56,577 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:30:56,673 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:30:56,674 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:30:56,674 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:30:56,674 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:30:56,674 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:30:56,674 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: mstpd
2025-09-10 11:30:56,675 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:30:56,675 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:30:57,176 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:30:57,355 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:30:57,391 - RSTPTest - INFO - 测试完成: test_tcn_topology_change_notification (耗时: 3.39秒)
2025-09-10 11:30:57,391 - RSTPTest - INFO - ============================================================

2025-09-10 11:30:57,393 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:57,393 - RSTPTest - INFO - 开始测试: test_edge_port_behavior
2025-09-10 11:30:57,393 - RSTPTest - INFO - ============================================================
2025-09-10 11:30:57,394 - test_advanced_rstp_mechanisms - INFO - 开始测试边缘端口行为
2025-09-10 11:30:57,394 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:30:57,394 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:30:57,395 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:30:57,395 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:30:57,395 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:30:57,395 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-10 11:30:57,395 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:30:57,395 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:30:57,905 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:30:57,905 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:30:58,961 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:30:58,961 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:30:58,962 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:30:58,962 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:30:59,417 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:30:59,898 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:30:59,898 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:31:00,001 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:31:00,097 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:31:00,098 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:31:00,098 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:31:00,098 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:31:00,098 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:31:00,099 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: mstpd
2025-09-10 11:31:00,099 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:31:00,099 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:31:00,579 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:31:00,758 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:31:00,794 - RSTPTest - INFO - 测试完成: test_edge_port_behavior (耗时: 3.40秒)
2025-09-10 11:31:00,794 - RSTPTest - INFO - ============================================================

2025-09-10 11:31:00,796 - RSTPTest - INFO - ============================================================
2025-09-10 11:31:00,796 - RSTPTest - INFO - 开始测试: test_shared_vs_point_to_point_links
2025-09-10 11:31:00,796 - RSTPTest - INFO - ============================================================
2025-09-10 11:31:00,797 - test_advanced_rstp_mechanisms - INFO - 开始测试不同链路类型的行为差异
2025-09-10 11:31:00,797 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:31:00,797 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:31:00,797 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:31:00,798 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:31:00,798 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:31:00,798 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-10 11:31:00,798 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:31:00,798 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:31:01,274 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:31:01,274 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:31:02,322 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:31:02,322 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:31:02,322 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:31:02,322 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:31:02,781 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:31:03,261 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:31:03,262 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:31:03,366 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:31:03,461 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:31:03,462 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:31:03,462 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:31:03,462 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:31:03,462 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:31:03,463 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: mstpd
2025-09-10 11:31:03,463 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:31:03,463 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:31:03,963 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:31:04,138 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:31:04,173 - RSTPTest - INFO - 测试完成: test_shared_vs_point_to_point_links (耗时: 3.38秒)
2025-09-10 11:31:04,173 - RSTPTest - INFO - ============================================================

2025-09-10 11:31:04,173 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-10 11:31:04,174 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-10 11:31:04,174 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-10 11:31:04,311 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-10 11:31:04,312 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-10 11:31:04,431 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-10 11:31:04,431 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-10 11:31:04,565 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-10 11:31:04,566 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-10 11:31:04,566 - RSTPTest - INFO - ============================================================
2025-09-10 11:31:04,566 - RSTPTest - INFO - 开始测试: test_backup_port_concept_verification
2025-09-10 11:31:04,566 - RSTPTest - INFO - ============================================================
2025-09-10 11:31:04,567 - test_backup_port_simulation - INFO - 开始备份端口概念验证测试
2025-09-10 11:31:04,567 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:31:04,567 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:31:04,568 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:31:04,568 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:31:04,568 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:31:04,568 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-10 11:31:04,568 - NetworkTopology - INFO - DUT: DUT设备，优先检测OVS支持...
2025-09-10 11:31:04,574 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-10 11:31:04,634 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0
2025-09-10 11:31:04,635 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-10 11:31:04,635 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:31:04,635 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:31:05,137 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:31:05,137 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:31:06,185 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-10 11:31:06,186 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-10 11:31:06,186 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-10 11:31:06,186 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-10 11:31:06,638 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-10 11:31:07,113 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-10 11:31:07,113 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-10 11:31:07,217 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-10 11:31:07,313 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-10 11:31:07,314 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-10 11:31:07,314 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-10 11:31:07,314 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-10 11:31:07,314 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-10 11:31:07,314 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-10 11:31:07,314 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-10 11:31:07,322 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-10 11:31:07,322 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-10 11:31:07,444 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=0, output=active
2025-09-10 11:31:07,445 - NetworkTopology - INFO - TestNode1: 检测到mstpd支持
2025-09-10 11:31:07,445 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: mstpd
2025-09-10 11:31:07,445 - NetworkTopology - INFO - TestNode1 使用方法: mstpd
2025-09-10 11:31:07,445 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-10 11:31:07,966 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (mstpd)...
2025-09-10 11:31:08,138 - NetworkTopology - ERROR - 配置节点 TestNode1 失败: name 'interfaces' is not defined
2025-09-10 11:31:08,172 - RSTPTest - INFO - 测试完成: test_backup_port_concept_verification (耗时: 3.61秒)
2025-09-10 11:31:08,172 - RSTPTest - INFO - ============================================================

2025-09-10 11:31:08,175 - RSTPTest - INFO - ============================================================
2025-09-10 11:31:08,175 - RSTPTest - INFO - 开始测试: test_shared_medium_simulation_attempt
2025-09-10 11:31:08,175 - RSTPTest - INFO - ============================================================
2025-09-10 11:31:08,175 - test_backup_port_simulation - INFO - 开始共享介质模拟尝试
2025-09-10 11:31:08,176 - test_backup_port_simulation - INFO - === 尝试创建共享介质模拟场景 ===
2025-09-10 11:31:08,176 - test_backup_port_simulation - INFO - 创建中心交换机模拟共享介质...
2025-09-10 11:31:08,176 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-10 11:31:08,176 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-10 11:31:08,176 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-10 11:31:08,176 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-10 11:31:08,177 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-10 11:31:08,177 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-10 11:31:08,177 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-10 11:31:08,177 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-10 11:31:08,640 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-10 11:31:08,641 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-10 11:31:09,625 - RSTPTest - INFO - 测试完成: test_shared_medium_simulation_attempt (耗时: 1.45秒)
2025-09-10 11:31:09,625 - RSTPTest - INFO - ============================================================

2025-09-10 11:31:09,625 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-10 11:31:09,626 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-10 11:31:09,626 - SSH_DUT - INFO - SSH连接已关闭: DUT
