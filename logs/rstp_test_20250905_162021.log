2025-09-05 16:20:21,507 - root - INFO - 日志系统初始化完成，日志文件: logs\rstp_test_20250905_162021.log
2025-09-05 16:20:21,624 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:21,625 - RSTPTest - INFO - 开始测试: test_dut_connection
2025-09-05 16:20:21,625 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:22,081 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-05 16:20:22,205 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-05 16:20:22,207 - RSTPTest - INFO - 测试完成: test_dut_connection (耗时: 0.58秒)
2025-09-05 16:20:22,218 - RSTPTest - INFO - ============================================================

2025-09-05 16:20:22,220 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:22,220 - RSTPTest - INFO - 开始测试: test_ssh_connection
2025-09-05 16:20:22,220 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:22,576 - RSTPTest - INFO - 测试完成: test_ssh_connection (耗时: 0.36秒)
2025-09-05 16:20:22,577 - RSTPTest - INFO - ============================================================

2025-09-05 16:20:22,579 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:22,580 - RSTPTest - INFO - 开始测试: test_network_connectivity
2025-09-05 16:20:22,580 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:25,638 - RSTPTest - INFO - 测试完成: test_network_connectivity (耗时: 3.06秒)
2025-09-05 16:20:25,639 - RSTPTest - INFO - ============================================================

2025-09-05 16:20:25,777 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-05 16:20:25,778 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-05 16:20:25,904 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-05 16:20:25,905 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-05 16:20:26,024 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-05 16:20:26,024 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-05 16:20:26,024 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:26,025 - RSTPTest - INFO - 开始测试: test_direct_link_failure
2025-09-05 16:20:26,025 - RSTPTest - INFO - ============================================================
2025-09-05 16:20:26,026 - test_convergence - INFO - 开始直接链路故障测试
2025-09-05 16:20:26,026 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:20:26,027 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:20:26,027 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:20:26,027 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:20:26,027 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:20:26,028 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-05 16:20:26,028 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-05 16:20:26,034 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-05 16:20:26,035 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-05 16:20:26,088 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-05 16:20:26,088 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-05 16:20:26,089 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:20:26,089 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:20:26,414 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:20:26,414 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:20:26,814 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:20:26,815 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:20:26,815 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:20:26,815 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:20:27,051 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:20:27,286 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:20:27,287 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:20:27,342 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:20:27,439 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:20:27,440 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:20:27,440 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:20:27,440 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:20:27,441 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:20:27,441 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-05 16:20:27,441 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-05 16:20:27,449 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-05 16:20:27,450 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-05 16:20:37,518 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-05 16:20:37,519 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-05 16:20:47,649 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:20:59,678 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-05 16:20:59,678 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-05 16:20:59,679 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-05 16:20:59,679 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:20:59,679 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:21:30,065 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:22:30,871 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:22:30,871 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:22:30,872 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:22:30,872 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:22:51,103 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:23:11,332 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:23:11,333 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:23:21,450 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:23:21,504 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:23:21,553 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:23:21,553 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:23:21,553 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:23:21,554 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:23:21,554 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:23:21,554 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-05 16:23:21,554 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-05 16:23:21,562 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-05 16:23:21,562 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-05 16:23:31,630 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-05 16:23:31,630 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-05 16:23:41,747 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:23:53,775 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-05 16:23:53,776 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-05 16:23:53,776 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-05 16:23:53,776 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:23:53,777 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:24:24,156 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:25:24,956 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:25:24,957 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:25:24,957 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:25:24,957 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:25:45,192 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:26:05,431 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:26:05,431 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:26:15,550 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:26:15,602 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:26:15,650 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:26:15,650 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:26:15,650 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:26:15,651 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-05 16:26:48,167 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 32.52秒
2025-09-05 16:26:48,167 - test_convergence - INFO - 初始收敛时间: 32.52秒
2025-09-05 16:26:48,759 - RSTPTest - INFO - 测试完成: test_direct_link_failure (耗时: 382.73秒)
2025-09-05 16:26:48,759 - RSTPTest - INFO - ============================================================

2025-09-05 16:26:48,801 - RSTPTest - INFO - ============================================================
2025-09-05 16:26:48,801 - RSTPTest - INFO - 开始测试: test_multiple_link_failures
2025-09-05 16:26:48,801 - RSTPTest - INFO - ============================================================
2025-09-05 16:26:48,802 - test_convergence - INFO - 开始多重链路故障测试
2025-09-05 16:26:48,803 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:26:48,803 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:26:48,803 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:26:48,804 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:26:48,804 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:26:48,804 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:26:48,804 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:26:48,804 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:26:49,109 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:26:49,109 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:26:49,508 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:26:49,509 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:26:49,509 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:26:49,509 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:26:49,779 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:26:50,085 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:26:50,085 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:26:50,142 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:26:50,242 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:26:50,242 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:26:50,242 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:26:50,242 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:26:50,243 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:26:50,243 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:26:50,243 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:26:50,244 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:27:05,895 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:27:06,986 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:27:06,986 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:27:06,986 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:27:06,987 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:27:07,335 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:27:07,672 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:27:07,673 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:27:07,863 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:27:07,914 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:27:07,964 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:27:07,965 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:27:07,965 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:27:07,965 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:27:07,965 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:27:07,965 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:27:07,966 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:27:07,966 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:27:23,652 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:27:24,786 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:27:24,786 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:27:24,786 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:27:24,787 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:27:25,136 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:27:25,468 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:27:25,469 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:27:25,633 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:27:25,682 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:27:25,731 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:27:25,732 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:27:25,732 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:27:25,732 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-05 16:27:26,545 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 0.81秒
2025-09-05 16:27:26,546 - test_convergence - INFO - 注入故障: eth0
2025-09-05 16:27:26,546 - FaultInjector_DUT - INFO - 断开链路: eth0
2025-09-05 16:27:26,624 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth0 (code=1)，将在逻辑上标记为已断开
2025-09-05 16:27:26,625 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-05 16:27:27,489 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 0.86秒
2025-09-05 16:27:27,489 - test_convergence - INFO - eth0故障收敛时间: 0.86秒
2025-09-05 16:27:29,490 - test_convergence - INFO - 注入故障: eth2
2025-09-05 16:27:29,490 - FaultInjector_DUT - INFO - 断开链路: eth2
2025-09-05 16:27:29,564 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth2 (code=1)，将在逻辑上标记为已断开
2025-09-05 16:27:29,565 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-05 16:27:30,514 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 0.95秒
2025-09-05 16:27:30,514 - test_convergence - INFO - eth2故障收敛时间: 0.95秒
2025-09-05 16:27:32,515 - FaultInjector_DUT - INFO - 恢复链路: eth0
2025-09-05 16:27:32,587 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth0 (code=1)，将在逻辑上标记为已恢复
2025-09-05 16:27:32,588 - FaultInjector_DUT - INFO - 恢复链路: eth2
2025-09-05 16:27:32,700 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth2 (code=1)，将在逻辑上标记为已恢复
2025-09-05 16:27:32,700 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-05 16:27:33,543 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 0.84秒
2025-09-05 16:27:33,543 - test_convergence - INFO - 最终恢复收敛时间: 0.84秒
2025-09-05 16:27:33,544 - test_convergence - INFO - 多重链路故障测试通过
2025-09-05 16:27:33,546 - RSTPTest - INFO - 测试完成: test_multiple_link_failures (耗时: 44.74秒)
2025-09-05 16:27:33,547 - RSTPTest - INFO - ============================================================

2025-09-05 16:27:33,550 - RSTPTest - INFO - ============================================================
2025-09-05 16:27:33,551 - RSTPTest - INFO - 开始测试: test_convergence_with_traffic
2025-09-05 16:27:33,552 - RSTPTest - INFO - ============================================================
2025-09-05 16:27:33,553 - test_convergence - INFO - 开始带流量的收敛测试
2025-09-05 16:27:33,554 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:27:33,554 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:27:33,554 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:27:33,554 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:27:33,555 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:27:33,555 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:27:33,555 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:27:33,556 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:27:33,840 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:27:33,840 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:27:34,232 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:27:34,232 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:27:34,232 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:27:34,233 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:27:34,448 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:27:34,681 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:27:34,681 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:27:34,736 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:27:34,833 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:27:34,833 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:27:34,833 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:27:34,834 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:27:34,834 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:27:34,834 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:27:34,834 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:27:34,834 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:27:35,339 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:27:36,453 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:27:36,453 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:27:36,453 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:27:36,454 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:27:36,787 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:27:37,130 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:27:37,131 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:27:37,317 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:27:37,369 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:27:37,418 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:27:37,418 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:27:37,419 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:27:37,419 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:27:37,419 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:27:37,419 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:27:37,419 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:27:37,420 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:27:37,922 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:27:39,015 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:27:39,016 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:27:39,016 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:27:39,016 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:27:39,367 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:27:39,701 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:27:39,701 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:27:39,863 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:27:39,911 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:27:39,959 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:27:39,959 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:27:39,959 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:27:46,074 - TrafficGenerator - INFO - 启动iperf3服务器: 192.168.184.131:5201
2025-09-05 16:27:48,154 - TrafficGenerator - ERROR - iperf3服务器启动失败
2025-09-05 16:27:51,076 - TrafficGenerator - INFO - 启动iperf3客户端: -> 192.168.184.131:5201
2025-09-05 16:27:51,076 - TrafficGenerator - INFO - iperf3客户端已启动 (udp, 100M)
2025-09-05 16:27:56,076 - FaultInjector_DUT - INFO - 断开链路: eth0
2025-09-05 16:27:56,151 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth0 (code=1)，将在逻辑上标记为已断开
2025-09-05 16:28:06,152 - test_convergence - INFO - 丢包数: 0
2025-09-05 16:28:06,152 - test_convergence - INFO - 估计中断时间: 0.000秒
2025-09-05 16:28:06,153 - TrafficGenerator - INFO - 停止流量生成
2025-09-05 16:28:08,221 - test_convergence - INFO - 带流量的收敛测试通过
2025-09-05 16:28:08,223 - RSTPTest - INFO - 测试完成: test_convergence_with_traffic (耗时: 34.67秒)
2025-09-05 16:28:08,223 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:08,223 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-05 16:28:08,224 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-05 16:28:08,224 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-05 16:28:08,366 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-05 16:28:08,367 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-05 16:28:08,495 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-05 16:28:08,496 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-05 16:28:08,615 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-05 16:28:08,616 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-05 16:28:08,616 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:08,617 - RSTPTest - INFO - 开始测试: test_rstp_reconvergence_no_switchover
2025-09-05 16:28:08,617 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:08,618 - test_high_availability - INFO - 开始RSTP重构误判测试
2025-09-05 16:28:08,618 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:28:08,618 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:28:08,618 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:28:08,618 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:28:08,619 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:28:08,619 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-05 16:28:08,619 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-05 16:28:08,625 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-05 16:28:08,626 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-05 16:28:08,681 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-05 16:28:08,682 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-05 16:28:08,682 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:28:08,682 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:28:08,995 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:28:08,995 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:28:09,379 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:28:09,380 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:28:09,380 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:28:09,380 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:28:09,600 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:28:09,844 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:28:09,844 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:28:09,900 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:28:09,996 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:28:09,997 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:28:09,997 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:28:09,997 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:28:09,997 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:28:09,998 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-05 16:28:09,998 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-05 16:28:10,011 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-05 16:28:10,011 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-05 16:28:10,132 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-05 16:28:10,133 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-05 16:28:10,328 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:28:12,421 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-05 16:28:12,421 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-05 16:28:12,421 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-05 16:28:12,422 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:28:12,422 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:28:13,009 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:28:14,136 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:28:14,137 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:28:14,137 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:28:14,137 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:28:14,483 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:28:14,826 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:28:14,827 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:28:15,009 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:28:15,059 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:28:15,108 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:28:15,109 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:28:15,109 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:28:15,109 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:28:15,110 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:28:15,110 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-05 16:28:15,110 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-05 16:28:15,120 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-05 16:28:15,120 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-05 16:28:15,257 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-05 16:28:15,257 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-05 16:28:15,444 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:28:17,576 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-05 16:28:17,577 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-05 16:28:17,577 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-05 16:28:17,577 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:28:17,577 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:28:18,118 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:28:19,234 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:28:19,234 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:28:19,234 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:28:19,235 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:28:19,588 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:28:19,917 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:28:19,917 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:28:20,082 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:28:20,131 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:28:20,181 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:28:20,182 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:28:20,182 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:28:25,187 - test_high_availability - INFO - 初始HA状态: {'role': 'unknown', 'state': 'unknown', 'peer': 'unknown'}
2025-09-05 16:28:25,187 - test_high_availability - INFO - 在远端触发RSTP重构...
2025-09-05 16:28:25,187 - FaultInjector_TestNode2 - INFO - 断开链路: eth0
2025-09-05 16:28:25,378 - FaultInjector_TestNode2 - INFO - 链路已断开: eth0
2025-09-05 16:28:35,384 - test_high_availability - INFO - RSTP重构后HA状态: {'role': 'unknown', 'state': 'unknown', 'peer': 'unknown'}
2025-09-05 16:28:35,384 - FaultInjector_TestNode2 - INFO - 恢复链路: eth0
2025-09-05 16:28:35,517 - FaultInjector_TestNode2 - INFO - 链路已恢复: eth0
2025-09-05 16:28:35,517 - test_high_availability - INFO - RSTP重构误判测试完成
2025-09-05 16:28:35,519 - RSTPTest - INFO - 测试完成: test_rstp_reconvergence_no_switchover (耗时: 26.90秒)
2025-09-05 16:28:35,519 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:35,521 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:35,521 - RSTPTest - INFO - 开始测试: test_split_brain_scenario
2025-09-05 16:28:35,521 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:35,522 - test_high_availability - INFO - 开始裂脑场景测试
2025-09-05 16:28:35,526 - test_high_availability - INFO - 初始状态: {'role': 'unknown', 'state': 'unknown', 'peer': 'unknown'}
2025-09-05 16:28:35,527 - test_high_availability - INFO - 断开同步链路: eth3
2025-09-05 16:28:35,527 - FaultInjector_DUT - INFO - 断开链路: eth3
2025-09-05 16:28:35,639 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth3 (code=1)，将在逻辑上标记为已断开
2025-09-05 16:28:45,639 - test_high_availability - WARNING - 裂脑测试需要访问两个控制器
2025-09-05 16:28:45,640 - FaultInjector_DUT - INFO - 恢复链路: eth3
2025-09-05 16:28:45,714 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth3 (code=1)，将在逻辑上标记为已恢复
2025-09-05 16:28:45,714 - test_high_availability - INFO - 裂脑场景测试完成
2025-09-05 16:28:45,715 - RSTPTest - INFO - 测试完成: test_split_brain_scenario (耗时: 10.19秒)
2025-09-05 16:28:45,716 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:45,721 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-05 16:28:45,721 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-05 16:28:45,721 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-05 16:28:45,853 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-05 16:28:45,854 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-05 16:28:45,854 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:45,854 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[12288]
2025-09-05 16:28:45,855 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:45,855 - test_parameters - INFO - 测试网桥优先级: 12288
2025-09-05 16:28:45,934 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-05 16:28:47,951 - test_parameters - INFO - 优先级12288设置成功
2025-09-05 16:28:47,952 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[12288] (耗时: 2.10秒)
2025-09-05 16:28:47,952 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:47,953 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:47,954 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[16384]
2025-09-05 16:28:47,954 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:47,954 - test_parameters - INFO - 测试网桥优先级: 16384
2025-09-05 16:28:48,024 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-05 16:28:50,041 - test_parameters - INFO - 优先级16384设置成功
2025-09-05 16:28:50,042 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[16384] (耗时: 2.09秒)
2025-09-05 16:28:50,042 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:50,044 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:50,044 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[32768]
2025-09-05 16:28:50,044 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:50,045 - test_parameters - INFO - 测试网桥优先级: 32768
2025-09-05 16:28:50,107 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-05 16:28:52,124 - test_parameters - INFO - 优先级32768设置成功
2025-09-05 16:28:52,125 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[32768] (耗时: 2.08秒)
2025-09-05 16:28:52,125 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:52,127 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:52,127 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[61440]
2025-09-05 16:28:52,127 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:52,127 - test_parameters - INFO - 测试网桥优先级: 61440
2025-09-05 16:28:52,188 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-05 16:28:54,204 - test_parameters - INFO - 优先级61440设置成功
2025-09-05 16:28:54,205 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[61440] (耗时: 2.08秒)
2025-09-05 16:28:54,205 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:54,206 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,207 - RSTPTest - INFO - 开始测试: test_bridge_priority_invalid[4097]
2025-09-05 16:28:54,207 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,207 - test_parameters - INFO - 测试无效优先级: 4097
2025-09-05 16:28:54,254 - test_parameters - INFO - 无效优先级4097被正确拒绝
2025-09-05 16:28:54,255 - RSTPTest - INFO - 测试完成: test_bridge_priority_invalid[4097] (耗时: 0.05秒)
2025-09-05 16:28:54,255 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:54,256 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,257 - RSTPTest - INFO - 开始测试: test_bridge_priority_invalid[12289]
2025-09-05 16:28:54,257 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,258 - test_parameters - INFO - 测试无效优先级: 12289
2025-09-05 16:28:54,306 - test_parameters - INFO - 无效优先级12289被正确拒绝
2025-09-05 16:28:54,307 - RSTPTest - INFO - 测试完成: test_bridge_priority_invalid[12289] (耗时: 0.05秒)
2025-09-05 16:28:54,308 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:54,310 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,310 - RSTPTest - INFO - 开始测试: test_bridge_priority_invalid[70000]
2025-09-05 16:28:54,310 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,311 - test_parameters - INFO - 测试无效优先级: 70000
2025-09-05 16:28:54,358 - test_parameters - INFO - 无效优先级70000被正确拒绝
2025-09-05 16:28:54,359 - RSTPTest - INFO - 测试完成: test_bridge_priority_invalid[70000] (耗时: 0.05秒)
2025-09-05 16:28:54,359 - RSTPTest - INFO - ============================================================

2025-09-05 16:28:54,361 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,361 - RSTPTest - INFO - 开始测试: test_hello_time
2025-09-05 16:28:54,361 - RSTPTest - INFO - ============================================================
2025-09-05 16:28:54,361 - test_parameters - INFO - 测试Hello Time参数
2025-09-05 16:28:54,362 - test_parameters - INFO - 设置Hello Time: 1秒
2025-09-05 16:28:56,439 - test_parameters - INFO - Hello Time 1秒设置成功
2025-09-05 16:28:56,440 - test_parameters - INFO - 设置Hello Time: 2秒
2025-09-05 16:28:58,519 - test_parameters - INFO - Hello Time 2秒设置成功
2025-09-05 16:28:58,519 - test_parameters - INFO - 设置Hello Time: 5秒
2025-09-05 16:29:00,601 - test_parameters - INFO - Hello Time 5秒设置成功
2025-09-05 16:29:00,602 - test_parameters - INFO - Hello Time测试通过
2025-09-05 16:29:00,603 - RSTPTest - INFO - 测试完成: test_hello_time (耗时: 6.24秒)
2025-09-05 16:29:00,603 - RSTPTest - INFO - ============================================================

2025-09-05 16:29:00,604 - RSTPTest - INFO - ============================================================
2025-09-05 16:29:00,605 - RSTPTest - INFO - 开始测试: test_forward_delay
2025-09-05 16:29:00,605 - RSTPTest - INFO - ============================================================
2025-09-05 16:29:00,606 - test_parameters - INFO - 测试Forward Delay参数
2025-09-05 16:29:00,606 - test_parameters - INFO - 设置Forward Delay: 4秒
2025-09-05 16:29:02,679 - test_parameters - INFO - Forward Delay 4秒设置成功
2025-09-05 16:29:02,679 - test_parameters - INFO - 设置Forward Delay: 10秒
2025-09-05 16:29:04,759 - test_parameters - INFO - Forward Delay 10秒设置成功
2025-09-05 16:29:04,759 - test_parameters - INFO - 设置Forward Delay: 15秒
2025-09-05 16:29:06,840 - test_parameters - INFO - Forward Delay 15秒设置成功
2025-09-05 16:29:06,841 - test_parameters - INFO - Forward Delay测试通过
2025-09-05 16:29:06,842 - RSTPTest - INFO - 测试完成: test_forward_delay (耗时: 6.24秒)
2025-09-05 16:29:06,842 - RSTPTest - INFO - ============================================================

2025-09-05 16:29:06,843 - RSTPTest - INFO - ============================================================
2025-09-05 16:29:06,844 - RSTPTest - INFO - 开始测试: test_max_age
2025-09-05 16:29:06,844 - RSTPTest - INFO - ============================================================
2025-09-05 16:29:06,845 - test_parameters - INFO - 测试Max Age参数
2025-09-05 16:29:06,845 - test_parameters - INFO - 设置Max Age: 6秒
2025-09-05 16:29:08,920 - test_parameters - INFO - Max Age 6秒设置成功
2025-09-05 16:29:08,920 - test_parameters - INFO - 设置Max Age: 10秒
2025-09-05 16:29:10,999 - test_parameters - INFO - Max Age 10秒设置成功
2025-09-05 16:29:11,000 - test_parameters - INFO - 设置Max Age: 20秒
2025-09-05 16:29:13,078 - test_parameters - INFO - Max Age 20秒设置成功
2025-09-05 16:29:13,078 - test_parameters - INFO - Max Age测试通过
2025-09-05 16:29:13,079 - RSTPTest - INFO - 测试完成: test_max_age (耗时: 6.24秒)
2025-09-05 16:29:13,079 - RSTPTest - INFO - ============================================================

2025-09-05 16:29:13,221 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-05 16:29:13,221 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-05 16:29:13,345 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-05 16:29:13,346 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-05 16:29:13,346 - RSTPTest - INFO - ============================================================
2025-09-05 16:29:13,346 - RSTPTest - INFO - 开始测试: test_port_cost
2025-09-05 16:29:13,347 - RSTPTest - INFO - ============================================================
2025-09-05 16:29:13,347 - test_parameters - INFO - 测试端口路径成本
2025-09-05 16:29:13,348 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:29:13,348 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:29:13,348 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:29:13,349 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:29:13,349 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:29:13,349 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-05 16:29:13,349 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-05 16:29:13,355 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-05 16:29:13,355 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-05 16:29:13,412 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-05 16:29:13,413 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-05 16:29:13,413 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:29:13,413 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:29:13,739 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:29:13,739 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:29:14,126 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:29:14,126 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:29:14,126 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:29:14,126 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:29:14,355 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:29:14,591 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:29:14,591 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:29:14,646 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:29:14,739 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:29:14,740 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:29:14,740 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:29:14,740 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:29:14,740 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:29:14,740 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-05 16:29:14,741 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-05 16:29:14,748 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-05 16:29:14,748 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-05 16:29:14,869 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-05 16:29:14,869 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-05 16:29:15,052 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:29:17,135 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-05 16:29:17,135 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-05 16:29:17,136 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-05 16:29:17,136 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:29:17,136 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:29:17,719 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:29:18,854 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:29:18,854 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:29:18,855 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:29:18,855 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:29:19,238 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:29:19,667 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:29:19,667 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:29:19,878 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:29:19,928 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:29:19,977 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:29:19,977 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:29:19,977 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:29:19,978 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:29:19,978 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:29:19,978 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-05 16:29:19,978 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-05 16:29:19,986 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-05 16:29:19,987 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-05 16:29:20,107 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-05 16:29:20,108 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-05 16:29:20,277 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:29:22,367 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-05 16:29:22,367 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-05 16:29:22,367 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-05 16:29:22,367 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:29:22,368 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:29:22,906 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:30:23,667 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:30:23,668 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:30:23,668 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:30:23,668 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:30:43,907 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:31:04,164 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:31:04,164 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:31:09,493 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:31:09,545 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:31:09,595 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:31:09,595 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:31:09,595 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:31:14,596 - test_parameters - INFO - 设置端口eth0成本: 10
2025-09-05 16:31:14,597 - test_parameters - INFO - 设置端口eth0成本: 100
2025-09-05 16:31:14,597 - test_parameters - INFO - 设置端口eth0成本: 1000
2025-09-05 16:31:14,597 - test_parameters - INFO - 设置端口eth0成本: 20000
2025-09-05 16:31:14,597 - test_parameters - INFO - 端口成本测试通过
2025-09-05 16:31:14,599 - RSTPTest - INFO - 测试完成: test_port_cost (耗时: 121.25秒)
2025-09-05 16:31:14,599 - RSTPTest - INFO - ============================================================

2025-09-05 16:31:14,601 - RSTPTest - INFO - ============================================================
2025-09-05 16:31:14,602 - RSTPTest - INFO - 开始测试: test_parameter_persistence
2025-09-05 16:31:14,602 - RSTPTest - INFO - ============================================================
2025-09-05 16:31:14,603 - test_parameters - INFO - 测试参数持久性
2025-09-05 16:31:17,959 - test_parameters - INFO - 参数持久性测试通过
2025-09-05 16:31:17,960 - RSTPTest - INFO - 测试完成: test_parameter_persistence (耗时: 3.36秒)
2025-09-05 16:31:17,960 - RSTPTest - INFO - ============================================================

2025-09-05 16:31:17,962 - RSTPTest - INFO - ============================================================
2025-09-05 16:31:17,962 - RSTPTest - INFO - 开始测试: test_parameter_boundaries
2025-09-05 16:31:17,962 - RSTPTest - INFO - ============================================================
2025-09-05 16:31:17,963 - test_parameters - INFO - 测试参数边界值
2025-09-05 16:31:18,012 - test_parameters - INFO - 最小值0: 失败
2025-09-05 16:31:18,064 - test_parameters - INFO - 最大值65535: 失败
2025-09-05 16:31:18,116 - test_parameters - INFO - 正确拒绝了无效值-1
2025-09-05 16:31:18,168 - test_parameters - INFO - 正确拒绝了无效值65536
2025-09-05 16:31:18,220 - test_parameters - INFO - 最小值1: 失败
2025-09-05 16:31:18,272 - test_parameters - INFO - 最大值10: 失败
2025-09-05 16:31:18,324 - test_parameters - INFO - 正确拒绝了无效值0
2025-09-05 16:31:18,375 - test_parameters - INFO - 正确拒绝了无效值11
2025-09-05 16:31:18,427 - test_parameters - INFO - 最小值4: 失败
2025-09-05 16:31:18,480 - test_parameters - INFO - 最大值30: 失败
2025-09-05 16:31:18,532 - test_parameters - INFO - 正确拒绝了无效值3
2025-09-05 16:31:18,584 - test_parameters - INFO - 正确拒绝了无效值31
2025-09-05 16:31:18,638 - test_parameters - INFO - 最小值6: 失败
2025-09-05 16:31:18,696 - test_parameters - INFO - 最大值40: 失败
2025-09-05 16:31:18,748 - test_parameters - INFO - 正确拒绝了无效值5
2025-09-05 16:31:18,800 - test_parameters - INFO - 正确拒绝了无效值41
2025-09-05 16:31:18,800 - test_parameters - INFO - 参数边界测试完成
2025-09-05 16:31:18,801 - RSTPTest - INFO - 测试完成: test_parameter_boundaries (耗时: 0.84秒)
2025-09-05 16:31:18,801 - RSTPTest - INFO - ============================================================

2025-09-05 16:31:18,801 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-05 16:31:18,802 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-05 16:31:18,802 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-05 16:31:18,935 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-05 16:31:18,936 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-05 16:31:19,066 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-05 16:31:19,066 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-05 16:31:19,257 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-05 16:31:19,257 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-05 16:31:19,258 - RSTPTest - INFO - ============================================================
2025-09-05 16:31:19,258 - RSTPTest - INFO - 开始测试: test_root_bridge_election
2025-09-05 16:31:19,259 - RSTPTest - INFO - ============================================================
2025-09-05 16:31:19,259 - test_protocol_conformance - INFO - 开始根网桥选举测试
2025-09-05 16:31:19,260 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:31:19,260 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:31:19,260 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:31:19,261 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:31:19,261 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:31:19,261 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-05 16:31:19,261 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-05 16:31:19,267 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-05 16:31:19,268 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-05 16:31:19,322 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-05 16:31:19,322 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-05 16:31:19,323 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:31:19,323 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:31:19,676 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:31:19,677 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:31:20,061 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:31:20,061 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:31:20,062 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:31:20,062 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:31:20,286 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:31:20,521 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:31:20,522 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:31:20,577 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:31:20,673 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:31:20,673 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:31:20,673 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:31:20,674 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:31:20,674 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:31:20,674 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-05 16:31:20,674 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-05 16:31:20,683 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-05 16:31:20,683 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-05 16:31:20,810 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-05 16:31:20,810 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-05 16:31:20,970 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:31:23,058 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-05 16:31:23,059 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-05 16:31:23,059 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-05 16:31:23,059 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:31:23,059 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:31:23,635 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:31:24,822 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:31:24,823 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:31:24,823 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:31:24,824 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:31:25,197 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:31:25,563 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:31:25,564 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:31:25,752 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:31:25,802 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:31:25,854 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:31:25,855 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:31:25,856 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:31:25,856 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:31:25,856 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:31:25,857 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-05 16:31:25,857 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-05 16:31:25,867 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-05 16:31:25,867 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-05 16:31:31,972 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-05 16:31:31,973 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-05 16:31:42,092 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:31:47,398 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-05 16:31:47,399 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-05 16:31:47,399 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-05 16:31:47,399 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:31:47,400 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:32:03,068 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:32:04,271 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:32:04,272 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:32:04,272 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:04,273 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:32:04,667 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:32:05,024 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:32:05,025 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:32:05,196 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:32:05,246 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:32:05,296 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:32:05,296 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:32:05,297 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:32:10,646 - RSTPTest - INFO - 测试完成: test_root_bridge_election (耗时: 51.39秒)
2025-09-05 16:32:10,646 - RSTPTest - INFO - ============================================================

2025-09-05 16:32:10,647 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:10,647 - RSTPTest - INFO - 开始测试: test_port_role_assignment
2025-09-05 16:32:10,647 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:10,648 - test_protocol_conformance - INFO - 开始端口角色分配测试
2025-09-05 16:32:10,648 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:32:10,648 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:32:10,649 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:32:10,649 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:32:10,649 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:32:10,649 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:32:10,649 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:32:10,649 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:32:10,943 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:32:10,944 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:32:11,327 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:32:11,328 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:32:11,328 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:11,328 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:32:11,544 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:32:11,784 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:32:11,784 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:32:11,840 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:32:11,937 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:32:11,937 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:32:11,937 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:32:11,938 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:32:11,938 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:32:11,938 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:32:11,938 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:32:11,939 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:32:12,448 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:32:13,549 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:32:13,549 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:32:13,549 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:13,549 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:32:13,905 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:32:14,260 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:32:14,261 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:32:14,436 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:32:14,484 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:32:14,535 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:32:14,535 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:32:14,536 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:32:14,536 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:32:14,536 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:32:14,536 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:32:14,536 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:32:14,537 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:32:15,036 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:32:16,141 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:32:16,141 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:32:16,142 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:16,142 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:32:16,496 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:32:16,840 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:32:16,840 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:32:17,014 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:32:17,066 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:32:17,114 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:32:17,115 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:32:17,115 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:32:22,457 - RSTPTest - INFO - 测试完成: test_port_role_assignment (耗时: 11.81秒)
2025-09-05 16:32:22,457 - RSTPTest - INFO - ============================================================

2025-09-05 16:32:22,459 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:22,459 - RSTPTest - INFO - 开始测试: test_rstp_protocol_verification
2025-09-05 16:32:22,459 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:22,459 - test_protocol_conformance - INFO - 开始RSTP协议验证
2025-09-05 16:32:22,507 - RSTPAnalyzer_DUT - INFO - 开始捕获BPDU包 (接口: eth0, 数量: 5)
2025-09-05 16:32:22,582 - RSTPAnalyzer_DUT - INFO - 捕获到 0 个BPDU包
2025-09-05 16:32:22,589 - RSTPTest - INFO - 测试完成: test_rstp_protocol_verification (耗时: 0.13秒)
2025-09-05 16:32:22,590 - RSTPTest - INFO - ============================================================

2025-09-05 16:32:22,591 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:22,591 - RSTPTest - INFO - 开始测试: test_topology_change_notification
2025-09-05 16:32:22,591 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:22,592 - test_protocol_conformance - INFO - 开始拓扑变更通知测试
2025-09-05 16:32:22,592 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:32:22,593 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:32:22,593 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:32:22,593 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:32:22,593 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:32:22,593 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:32:22,593 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:32:22,594 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:32:23,185 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:32:23,186 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:32:23,664 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:32:23,664 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:32:23,664 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:23,665 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:32:23,888 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:32:24,128 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:32:24,128 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:32:24,184 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:32:24,285 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:32:24,285 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:32:24,285 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:32:24,286 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:32:24,286 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:32:24,286 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:32:24,286 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:32:24,286 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:32:24,793 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:32:25,915 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:32:25,915 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:32:25,916 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:25,916 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:32:26,252 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:32:26,581 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:32:26,581 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:32:26,748 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:32:26,797 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:32:26,846 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:32:26,846 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:32:26,847 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:32:26,847 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:32:26,847 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:32:26,847 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:32:26,848 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:32:26,848 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:32:27,332 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:32:28,413 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:32:28,414 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:32:28,414 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:28,414 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:32:28,750 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:32:29,080 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:32:29,080 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:32:29,249 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:32:29,299 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:32:29,348 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:32:29,348 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:32:29,349 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:32:34,538 - FaultInjector_DUT - INFO - 断开链路: eth0
2025-09-05 16:32:34,655 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth0 (code=1)，将在逻辑上标记为已断开
2025-09-05 16:32:36,655 - FaultInjector_DUT - INFO - 恢复链路: eth0
2025-09-05 16:32:36,731 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth0 (code=1)，将在逻辑上标记为已恢复
2025-09-05 16:32:41,933 - RSTPTest - INFO - 测试完成: test_topology_change_notification (耗时: 19.34秒)
2025-09-05 16:32:41,934 - RSTPTest - INFO - ============================================================

2025-09-05 16:32:41,934 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-05 16:32:41,934 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-05 16:32:41,935 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-05 16:32:42,070 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-05 16:32:42,070 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-05 16:32:42,199 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-05 16:32:42,200 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-05 16:32:42,325 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-05 16:32:42,325 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-05 16:32:42,326 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:42,326 - RSTPTest - INFO - 开始测试: test_root_bridge_hijack_attack
2025-09-05 16:32:42,326 - RSTPTest - INFO - ============================================================
2025-09-05 16:32:42,327 - test_security - INFO - 开始根网桥劫持攻击测试
2025-09-05 16:32:42,327 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:32:42,327 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:32:42,328 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:32:42,328 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:32:42,328 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:32:42,329 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-05 16:32:42,329 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-05 16:32:42,335 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-05 16:32:42,336 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-05 16:32:42,392 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-05 16:32:42,393 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-05 16:32:42,394 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:32:42,394 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:32:42,707 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:32:42,708 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:32:43,092 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:32:43,092 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:32:43,092 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:43,092 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:32:43,313 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:32:43,553 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:32:43,554 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:32:43,608 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:32:43,708 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:32:43,709 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:32:43,709 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:32:43,709 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:32:43,709 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:32:43,709 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-05 16:32:43,710 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-05 16:32:43,718 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-05 16:32:43,719 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-05 16:32:43,845 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-05 16:32:43,845 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-05 16:32:44,010 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:32:46,094 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-05 16:32:46,094 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-05 16:32:46,094 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-05 16:32:46,094 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:32:46,095 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:32:46,635 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:32:47,723 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:32:47,723 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:32:47,724 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:47,724 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:32:48,063 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:32:48,415 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:32:48,415 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:32:48,594 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:32:48,642 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:32:48,691 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:32:48,692 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:32:48,692 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:32:48,692 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:32:48,692 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:32:48,693 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-05 16:32:48,693 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-05 16:32:48,703 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-05 16:32:48,703 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-05 16:32:48,831 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-05 16:32:48,831 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-05 16:32:49,005 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-05 16:32:51,087 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-05 16:32:51,087 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-05 16:32:51,087 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-05 16:32:51,088 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:32:51,088 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:32:51,608 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:32:52,728 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:32:52,728 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:32:52,728 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:32:52,729 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:32:53,072 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:32:53,427 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:32:53,427 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:32:53,597 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:32:53,646 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:32:53,696 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:32:53,697 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:32:53,697 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:32:59,273 - test_security - INFO - 初始根网桥: 
2025-09-05 16:32:59,274 - FaultInjector_TestNode1 - WARNING - 注入恶意BPDU到 eth0
2025-09-05 16:32:59,378 - FaultInjector_TestNode1 - WARNING - 恶意BPDU注入已启动 (优先级: 0)
2025-09-05 16:33:14,569 - test_security - INFO - 根网桥未被劫持（可能已启用防护）
2025-09-05 16:33:14,570 - test_security - INFO - 根网桥劫持攻击测试完成
2025-09-05 16:33:14,571 - RSTPTest - INFO - 测试完成: test_root_bridge_hijack_attack (耗时: 32.24秒)
2025-09-05 16:33:14,571 - RSTPTest - INFO - ============================================================

2025-09-05 16:33:14,572 - RSTPTest - INFO - ============================================================
2025-09-05 16:33:14,572 - RSTPTest - INFO - 开始测试: test_bpdu_flood_attack
2025-09-05 16:33:14,573 - RSTPTest - INFO - ============================================================
2025-09-05 16:33:14,573 - test_security - INFO - 开始BPDU洪泛攻击测试
2025-09-05 16:33:14,573 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:33:14,574 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:33:14,574 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:33:14,574 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:33:14,574 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:33:14,575 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:33:14,575 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:33:14,575 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:33:14,902 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:33:14,903 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:33:15,294 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:33:15,295 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:33:15,295 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:33:15,295 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:33:15,522 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:33:15,764 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:33:15,764 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:33:15,819 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:33:15,915 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:33:15,916 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:33:15,916 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:33:15,916 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:33:15,916 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:33:15,917 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:33:15,917 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:33:15,917 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:33:16,481 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:33:17,650 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:33:17,651 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:33:17,651 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:33:17,651 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:33:17,995 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:33:18,331 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:33:18,331 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:33:18,510 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:33:18,558 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:33:18,607 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:33:18,608 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:33:18,608 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:33:18,608 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:33:18,608 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:33:18,608 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:33:18,609 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:33:18,609 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:33:19,176 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:33:20,284 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:33:20,284 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:33:20,285 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:33:20,285 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:33:20,625 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:33:20,960 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:33:20,961 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:33:21,134 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:33:21,182 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:33:21,231 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:33:21,232 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:33:21,232 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:33:26,402 - test_security - INFO - 初始CPU使用率: 0.0%
2025-09-05 16:33:36,639 - test_security - INFO - 洪泛时CPU使用率: 33.3%
2025-09-05 16:33:36,873 - test_security - INFO - 网络在BPDU洪泛下保持稳定
2025-09-05 16:33:36,874 - test_security - INFO - BPDU洪泛攻击测试完成
2025-09-05 16:33:36,875 - RSTPTest - INFO - 测试完成: test_bpdu_flood_attack (耗时: 22.30秒)
2025-09-05 16:33:36,875 - RSTPTest - INFO - ============================================================

2025-09-05 16:33:36,876 - RSTPTest - INFO - ============================================================
2025-09-05 16:33:36,876 - RSTPTest - INFO - 开始测试: test_topology_change_attack
2025-09-05 16:33:36,877 - RSTPTest - INFO - ============================================================
2025-09-05 16:33:36,877 - test_security - INFO - 开始拓扑变更攻击测试
2025-09-05 16:33:36,877 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:33:36,877 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:33:36,878 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:33:36,878 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:33:36,878 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:33:36,878 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:33:36,878 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:33:36,878 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:33:37,186 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:33:37,187 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:33:37,598 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:33:37,598 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:33:37,598 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:33:37,599 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:33:37,834 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:33:38,075 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:33:38,075 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:33:38,130 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:33:38,228 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:33:38,228 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:33:38,228 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:33:38,229 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:33:38,229 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:33:38,229 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:33:38,229 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:33:38,230 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:33:38,733 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:33:39,839 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:33:39,839 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:33:39,840 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:33:39,840 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:33:40,184 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:33:40,542 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:33:40,542 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:33:40,710 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:33:40,762 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:33:40,811 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:33:40,811 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:33:40,811 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:33:40,811 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:33:40,812 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:33:40,812 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:33:40,812 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:33:40,812 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:33:41,302 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:33:42,399 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:33:42,400 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:33:42,400 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:33:42,400 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:33:42,735 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:33:43,080 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:33:43,081 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:33:43,258 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:33:43,308 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:33:43,359 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:33:43,360 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:33:43,360 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:33:48,554 - test_security - INFO - 触发快速拓扑变更...
2025-09-05 16:34:06,820 - test_security - INFO - 检测到0次拓扑变更
2025-09-05 16:34:07,056 - test_security - INFO - 网络在频繁拓扑变更后保持稳定
2025-09-05 16:34:07,057 - test_security - INFO - 拓扑变更攻击测试完成
2025-09-05 16:34:07,058 - RSTPTest - INFO - 测试完成: test_topology_change_attack (耗时: 30.18秒)
2025-09-05 16:34:07,058 - RSTPTest - INFO - ============================================================

2025-09-05 16:34:07,059 - RSTPTest - INFO - ============================================================
2025-09-05 16:34:07,060 - RSTPTest - INFO - 开始测试: test_mac_spoofing
2025-09-05 16:34:07,060 - RSTPTest - INFO - ============================================================
2025-09-05 16:34:07,060 - test_security - INFO - 开始MAC地址欺骗测试
2025-09-05 16:34:07,061 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-05 16:34:07,061 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-05 16:34:07,061 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-05 16:34:07,061 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-05 16:34:07,061 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-05 16:34:07,062 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-05 16:34:07,062 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-05 16:34:07,062 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-05 16:34:07,402 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-05 16:34:07,402 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-05 16:34:07,802 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-05 16:34:07,802 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-05 16:34:07,802 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-05 16:34:07,803 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-05 16:34:08,034 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-05 16:34:08,280 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-05 16:34:08,281 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-05 16:34:08,335 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-05 16:34:08,432 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-05 16:34:08,433 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-05 16:34:08,433 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-05 16:34:08,434 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-05 16:34:08,434 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-05 16:34:08,434 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-05 16:34:08,434 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-05 16:34:08,435 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-05 16:34:08,964 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-05 16:34:10,040 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-05 16:34:10,040 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-05 16:34:10,040 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-05 16:34:10,041 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-05 16:34:10,402 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-05 16:34:10,738 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-05 16:34:10,738 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-05 16:34:11,312 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-05 16:34:11,361 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-05 16:34:11,411 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-05 16:34:11,411 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-05 16:34:11,412 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-05 16:34:11,412 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-05 16:34:11,412 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-05 16:34:11,412 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-05 16:34:11,413 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-05 16:34:11,413 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-05 16:34:11,895 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-05 16:34:12,969 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-05 16:34:12,969 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-05 16:34:12,969 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-05 16:34:12,969 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-05 16:34:13,317 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-05 16:34:13,663 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-05 16:34:13,664 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-05 16:34:13,837 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-05 16:34:13,886 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-05 16:34:13,935 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-05 16:34:13,935 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-05 16:34:13,935 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-05 16:34:18,942 - test_security - INFO - DUT MAC地址: 90:12:10:b5:7d:f7
2025-09-05 16:34:18,943 - test_security - INFO - 尝试MAC地址欺骗...
2025-09-05 16:34:24,681 - test_security - INFO - 网络对MAC欺骗具有抗性
2025-09-05 16:34:25,203 - test_security - INFO - MAC地址欺骗测试完成
2025-09-05 16:34:25,204 - RSTPTest - INFO - 测试完成: test_mac_spoofing (耗时: 18.14秒)
2025-09-05 16:34:25,204 - RSTPTest - INFO - ============================================================

2025-09-05 16:34:25,205 - RSTPTest - INFO - ============================================================
2025-09-05 16:34:25,205 - RSTPTest - INFO - 开始测试: test_port_security
2025-09-05 16:34:25,206 - RSTPTest - INFO - ============================================================
2025-09-05 16:34:25,206 - test_security - INFO - 开始端口安全测试
2025-09-05 16:34:25,211 - test_security - WARNING - 未检测到任何端口安全功能
2025-09-05 16:34:25,212 - RSTPTest - INFO - 测试完成: test_port_security (耗时: 0.01秒)
2025-09-05 16:34:25,212 - RSTPTest - INFO - ============================================================

2025-09-05 16:34:25,213 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-05 16:34:25,213 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-05 16:34:25,213 - SSH_DUT - INFO - SSH连接已关闭: DUT
