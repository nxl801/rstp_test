2025-09-08 10:07:56,936 - root - INFO - 日志系统初始化完成，日志文件: logs\rstp_test_20250908_100756.log
2025-09-08 10:07:57,176 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-08 10:07:57,177 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-08 10:07:57,523 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-08 10:07:57,524 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-08 10:07:57,838 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-08 10:07:57,838 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-08 10:07:57,839 - RSTPTest - INFO - ============================================================
2025-09-08 10:07:57,839 - RSTPTest - INFO - 开始测试: test_direct_link_failure
2025-09-08 10:07:57,839 - RSTPTest - INFO - ============================================================
2025-09-08 10:07:57,840 - test_convergence - INFO - 开始直接链路故障测试
2025-09-08 10:07:57,840 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:07:57,841 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:07:57,841 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:07:57,841 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:07:57,841 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:07:57,841 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-08 10:07:57,842 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-08 10:07:57,848 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-08 10:07:57,849 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-08 10:07:57,903 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-08 10:07:57,904 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-08 10:07:57,912 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:07:57,912 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:07:58,229 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:07:58,229 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:07:58,625 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:07:58,626 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:07:58,626 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:07:58,626 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:07:58,850 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:07:59,090 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:07:59,090 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:07:59,145 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:07:59,242 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:07:59,242 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:07:59,242 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:07:59,242 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:07:59,243 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:07:59,243 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-08 10:07:59,243 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-08 10:07:59,261 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-08 10:07:59,262 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-08 10:08:09,385 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-08 10:08:09,386 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-08 10:08:19,656 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:08:31,734 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-08 10:08:31,734 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-08 10:08:31,735 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-08 10:08:31,735 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:08:31,735 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:09:02,592 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:10:04,395 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:10:04,395 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:10:04,396 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:10:04,396 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:10:24,952 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:10:45,520 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:10:45,521 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:11:05,821 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:11:05,923 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:11:05,991 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:11:05,991 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:11:05,992 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:11:05,992 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:11:05,992 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:11:05,992 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-08 10:11:05,992 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-08 10:11:06,010 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-08 10:11:06,010 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-08 10:11:16,142 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-08 10:11:16,143 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-08 10:11:26,434 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:11:38,509 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-08 10:11:38,509 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-08 10:11:38,509 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-08 10:11:38,509 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:11:38,510 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:12:09,371 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:13:11,234 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:13:11,235 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:13:11,235 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:13:11,235 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:13:31,789 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:14:02,343 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:14:02,343 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:14:03,717 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:14:03,795 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:14:03,860 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:14:03,860 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:14:03,860 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:14:10,492 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-08 10:14:36,505 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 26.01秒
2025-09-08 10:14:36,505 - test_convergence - INFO - 初始收敛时间: 26.01秒
2025-09-08 10:14:37,055 - RSTPTest - INFO - 测试完成: test_direct_link_failure (耗时: 399.22秒)
2025-09-08 10:14:37,055 - RSTPTest - INFO - ============================================================

2025-09-08 10:14:37,223 - RSTPTest - INFO - ============================================================
2025-09-08 10:14:37,224 - RSTPTest - INFO - 开始测试: test_multiple_link_failures
2025-09-08 10:14:37,224 - RSTPTest - INFO - ============================================================
2025-09-08 10:14:37,225 - test_convergence - INFO - 开始多重链路故障测试
2025-09-08 10:14:37,225 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:14:37,225 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:14:37,226 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:14:37,226 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:14:37,226 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:14:37,226 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:14:37,226 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:14:37,227 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:14:37,521 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:14:37,521 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:14:37,903 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:14:37,903 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:14:37,903 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:14:37,904 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:14:38,124 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:14:38,364 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:14:38,365 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:14:38,420 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:14:38,520 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:14:38,521 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:14:38,521 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:14:38,521 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:14:38,521 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:14:38,522 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:14:38,522 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:14:38,522 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:14:52,508 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:14:54,729 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:14:54,729 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:14:54,730 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:14:54,730 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:14:55,395 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:14:56,084 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:14:56,084 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:14:56,433 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:14:56,516 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:14:56,575 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:14:56,576 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:14:56,576 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:14:56,576 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:14:56,576 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:14:56,577 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:14:56,577 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:14:56,577 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:15:10,570 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:15:12,827 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:15:12,827 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:15:12,827 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:15:12,828 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:15:13,530 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:15:14,187 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:15:14,188 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:15:14,525 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:15:14,597 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:15:14,658 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:15:14,658 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:15:14,659 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:15:14,659 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-08 10:15:16,073 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 1.41秒
2025-09-08 10:15:16,073 - test_convergence - INFO - 注入故障: eth0
2025-09-08 10:15:16,073 - FaultInjector_DUT - INFO - 断开链路: eth0
2025-09-08 10:15:16,145 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth0 (code=1)，将在逻辑上标记为已断开
2025-09-08 10:15:16,146 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-08 10:15:17,633 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 1.49秒
2025-09-08 10:15:17,633 - test_convergence - INFO - eth0故障收敛时间: 1.49秒
2025-09-08 10:15:19,634 - test_convergence - INFO - 注入故障: eth2
2025-09-08 10:15:19,634 - FaultInjector_DUT - INFO - 断开链路: eth2
2025-09-08 10:15:19,711 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth2 (code=1)，将在逻辑上标记为已断开
2025-09-08 10:15:19,711 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-08 10:15:21,241 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 1.53秒
2025-09-08 10:15:21,241 - test_convergence - INFO - eth2故障收敛时间: 1.53秒
2025-09-08 10:15:23,242 - FaultInjector_DUT - INFO - 恢复链路: eth0
2025-09-08 10:15:23,321 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth0 (code=1)，将在逻辑上标记为已恢复
2025-09-08 10:15:23,322 - FaultInjector_DUT - INFO - 恢复链路: eth2
2025-09-08 10:15:23,433 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth2 (code=1)，将在逻辑上标记为已恢复
2025-09-08 10:15:23,434 - ConvergenceMonitor - INFO - 等待网络收敛 (最长10秒)...
2025-09-08 10:15:24,931 - ConvergenceMonitor - INFO - 网络已收敛，耗时: 1.50秒
2025-09-08 10:15:24,931 - test_convergence - INFO - 最终恢复收敛时间: 1.50秒
2025-09-08 10:15:24,931 - test_convergence - INFO - 多重链路故障测试通过
2025-09-08 10:15:24,933 - RSTPTest - INFO - 测试完成: test_multiple_link_failures (耗时: 47.71秒)
2025-09-08 10:15:24,933 - RSTPTest - INFO - ============================================================

2025-09-08 10:15:24,934 - RSTPTest - INFO - ============================================================
2025-09-08 10:15:24,935 - RSTPTest - INFO - 开始测试: test_convergence_with_traffic
2025-09-08 10:15:24,935 - RSTPTest - INFO - ============================================================
2025-09-08 10:15:24,936 - test_convergence - INFO - 开始带流量的收敛测试
2025-09-08 10:15:24,936 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:15:24,936 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:15:24,936 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:15:24,937 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:15:24,937 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:15:24,937 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:15:24,937 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:15:24,938 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:15:25,210 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:15:25,211 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:15:25,618 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:15:25,619 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:15:25,619 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:15:25,619 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:15:25,836 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:15:26,075 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:15:26,075 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:15:26,131 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:15:26,227 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:15:26,227 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:15:26,228 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:15:26,228 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:15:26,228 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:15:26,228 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:15:26,229 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:15:26,229 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:15:27,378 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:15:29,552 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:15:29,553 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:15:29,553 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:15:29,553 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:15:30,226 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:15:30,904 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:15:30,904 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:15:31,235 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:15:31,309 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:15:31,368 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:15:31,369 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:15:31,369 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:15:31,369 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:15:31,369 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:15:31,370 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:15:31,370 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:15:31,370 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:15:32,424 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:15:34,592 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:15:34,592 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:15:34,592 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:15:34,593 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:15:35,303 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:15:35,990 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:15:35,991 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:15:36,310 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:15:36,378 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:15:36,437 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:15:36,437 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:15:36,438 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:15:42,774 - TrafficGenerator - INFO - 启动iperf3服务器: 192.168.184.131:5201
2025-09-08 10:15:44,970 - TrafficGenerator - ERROR - iperf3服务器启动失败
2025-09-08 10:15:47,776 - TrafficGenerator - INFO - 启动iperf3客户端: -> 192.168.184.131:5201
2025-09-08 10:15:47,776 - TrafficGenerator - INFO - iperf3客户端已启动 (udp, 100M)
2025-09-08 10:15:52,778 - FaultInjector_DUT - INFO - 断开链路: eth0
2025-09-08 10:15:52,853 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth0 (code=1)，将在逻辑上标记为已断开
2025-09-08 10:16:02,855 - test_convergence - INFO - 丢包数: 0
2025-09-08 10:16:02,855 - test_convergence - INFO - 估计中断时间: 0.000秒
2025-09-08 10:16:02,855 - TrafficGenerator - INFO - 停止流量生成
2025-09-08 10:16:05,158 - test_convergence - INFO - 带流量的收敛测试通过
2025-09-08 10:16:05,159 - RSTPTest - INFO - 测试完成: test_convergence_with_traffic (耗时: 40.22秒)
2025-09-08 10:16:05,159 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:05,160 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-08 10:16:05,160 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-08 10:16:05,161 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-08 10:16:05,296 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-08 10:16:05,297 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-08 10:16:05,641 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-08 10:16:05,642 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-08 10:16:05,946 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-08 10:16:05,946 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-08 10:16:05,947 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:05,947 - RSTPTest - INFO - 开始测试: test_rstp_reconvergence_no_switchover
2025-09-08 10:16:05,947 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:05,948 - test_high_availability - INFO - 开始RSTP重构误判测试
2025-09-08 10:16:05,948 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:16:05,949 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:16:05,949 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:16:05,949 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:16:05,950 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:16:05,950 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-08 10:16:05,950 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-08 10:16:05,955 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-08 10:16:05,956 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-08 10:16:06,011 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-08 10:16:06,012 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-08 10:16:06,012 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:16:06,012 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:16:06,342 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:16:06,342 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:16:06,750 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:16:06,751 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:16:06,751 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:16:06,751 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:16:06,970 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:16:07,206 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:16:07,206 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:16:07,262 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:16:07,358 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:16:07,358 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:16:07,359 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:16:07,359 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:16:07,359 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:16:07,359 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-08 10:16:07,359 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-08 10:16:07,379 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-08 10:16:07,379 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-08 10:16:07,562 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-08 10:16:07,563 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-08 10:16:07,898 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:16:10,050 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-08 10:16:10,051 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-08 10:16:10,051 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-08 10:16:10,051 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:16:10,052 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:16:11,140 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:16:13,330 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:16:13,331 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:16:13,331 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:16:13,331 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:16:14,029 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:16:14,702 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:16:14,702 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:16:15,044 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:16:15,108 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:16:15,168 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:16:15,169 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:16:15,169 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:16:15,169 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:16:15,169 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:16:15,170 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-08 10:16:15,170 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-08 10:16:15,186 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-08 10:16:15,187 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-08 10:16:15,363 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-08 10:16:15,363 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-08 10:16:15,689 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:16:17,823 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-08 10:16:17,824 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-08 10:16:17,824 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-08 10:16:17,824 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:16:17,825 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:16:18,898 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:16:21,101 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:16:21,102 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:16:21,102 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:16:21,102 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:16:21,774 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:16:22,435 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:16:22,435 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:16:22,752 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:16:22,827 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:16:22,886 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:16:22,886 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:16:22,887 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:16:27,892 - test_high_availability - INFO - 初始HA状态: {'role': 'unknown', 'state': 'unknown', 'peer': 'unknown'}
2025-09-08 10:16:27,892 - test_high_availability - INFO - 在远端触发RSTP重构...
2025-09-08 10:16:27,893 - FaultInjector_TestNode2 - INFO - 断开链路: eth0
2025-09-08 10:16:28,238 - FaultInjector_TestNode2 - INFO - 链路已断开: eth0
2025-09-08 10:16:38,244 - test_high_availability - INFO - RSTP重构后HA状态: {'role': 'unknown', 'state': 'unknown', 'peer': 'unknown'}
2025-09-08 10:16:38,245 - FaultInjector_TestNode2 - INFO - 恢复链路: eth0
2025-09-08 10:16:38,562 - FaultInjector_TestNode2 - INFO - 链路已恢复: eth0
2025-09-08 10:16:38,563 - test_high_availability - INFO - RSTP重构误判测试完成
2025-09-08 10:16:38,564 - RSTPTest - INFO - 测试完成: test_rstp_reconvergence_no_switchover (耗时: 32.62秒)
2025-09-08 10:16:38,564 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:38,565 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:38,565 - RSTPTest - INFO - 开始测试: test_split_brain_scenario
2025-09-08 10:16:38,566 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:38,566 - test_high_availability - INFO - 开始裂脑场景测试
2025-09-08 10:16:38,571 - test_high_availability - INFO - 初始状态: {'role': 'unknown', 'state': 'unknown', 'peer': 'unknown'}
2025-09-08 10:16:38,571 - test_high_availability - INFO - 断开同步链路: eth3
2025-09-08 10:16:38,571 - FaultInjector_DUT - INFO - 断开链路: eth3
2025-09-08 10:16:38,692 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth3 (code=1)，将在逻辑上标记为已断开
2025-09-08 10:16:48,693 - test_high_availability - WARNING - 裂脑测试需要访问两个控制器
2025-09-08 10:16:48,694 - FaultInjector_DUT - INFO - 恢复链路: eth3
2025-09-08 10:16:48,768 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth3 (code=1)，将在逻辑上标记为已恢复
2025-09-08 10:16:48,769 - test_high_availability - INFO - 裂脑场景测试完成
2025-09-08 10:16:48,770 - RSTPTest - INFO - 测试完成: test_split_brain_scenario (耗时: 10.20秒)
2025-09-08 10:16:48,770 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:48,775 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-08 10:16:48,775 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-08 10:16:48,776 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-08 10:16:48,912 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-08 10:16:48,912 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-08 10:16:48,912 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:48,912 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[12288]
2025-09-08 10:16:48,913 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:48,913 - test_parameters - INFO - 测试网桥优先级: 12288
2025-09-08 10:16:48,996 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-08 10:16:51,013 - test_parameters - INFO - 优先级12288设置成功
2025-09-08 10:16:51,014 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[12288] (耗时: 2.10秒)
2025-09-08 10:16:51,014 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:51,016 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:51,016 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[16384]
2025-09-08 10:16:51,016 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:51,017 - test_parameters - INFO - 测试网桥优先级: 16384
2025-09-08 10:16:51,085 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-08 10:16:53,106 - test_parameters - INFO - 优先级16384设置成功
2025-09-08 10:16:53,107 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[16384] (耗时: 2.09秒)
2025-09-08 10:16:53,108 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:53,109 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:53,109 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[32768]
2025-09-08 10:16:53,109 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:53,110 - test_parameters - INFO - 测试网桥优先级: 32768
2025-09-08 10:16:53,169 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-08 10:16:55,186 - test_parameters - INFO - 优先级32768设置成功
2025-09-08 10:16:55,187 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[32768] (耗时: 2.08秒)
2025-09-08 10:16:55,187 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:55,188 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:55,188 - RSTPTest - INFO - 开始测试: test_bridge_priority_valid[61440]
2025-09-08 10:16:55,189 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:55,189 - test_parameters - INFO - 测试网桥优先级: 61440
2025-09-08 10:16:55,248 - test_parameters - INFO - 命令执行结果: code=0, stdout='1
1
', stderr=''
2025-09-08 10:16:57,265 - test_parameters - INFO - 优先级61440设置成功
2025-09-08 10:16:57,267 - RSTPTest - INFO - 测试完成: test_bridge_priority_valid[61440] (耗时: 2.08秒)
2025-09-08 10:16:57,267 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:57,268 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,269 - RSTPTest - INFO - 开始测试: test_bridge_priority_invalid[4097]
2025-09-08 10:16:57,269 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,270 - test_parameters - INFO - 测试无效优先级: 4097
2025-09-08 10:16:57,324 - test_parameters - INFO - 无效优先级4097被正确拒绝
2025-09-08 10:16:57,325 - RSTPTest - INFO - 测试完成: test_bridge_priority_invalid[4097] (耗时: 0.06秒)
2025-09-08 10:16:57,325 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:57,326 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,326 - RSTPTest - INFO - 开始测试: test_bridge_priority_invalid[12289]
2025-09-08 10:16:57,327 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,327 - test_parameters - INFO - 测试无效优先级: 12289
2025-09-08 10:16:57,375 - test_parameters - INFO - 无效优先级12289被正确拒绝
2025-09-08 10:16:57,376 - RSTPTest - INFO - 测试完成: test_bridge_priority_invalid[12289] (耗时: 0.05秒)
2025-09-08 10:16:57,377 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:57,378 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,378 - RSTPTest - INFO - 开始测试: test_bridge_priority_invalid[70000]
2025-09-08 10:16:57,378 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,379 - test_parameters - INFO - 测试无效优先级: 70000
2025-09-08 10:16:57,429 - test_parameters - INFO - 无效优先级70000被正确拒绝
2025-09-08 10:16:57,430 - RSTPTest - INFO - 测试完成: test_bridge_priority_invalid[70000] (耗时: 0.05秒)
2025-09-08 10:16:57,430 - RSTPTest - INFO - ============================================================

2025-09-08 10:16:57,431 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,431 - RSTPTest - INFO - 开始测试: test_hello_time
2025-09-08 10:16:57,432 - RSTPTest - INFO - ============================================================
2025-09-08 10:16:57,433 - test_parameters - INFO - 测试Hello Time参数
2025-09-08 10:16:57,433 - test_parameters - INFO - 设置Hello Time: 1秒
2025-09-08 10:16:59,514 - test_parameters - INFO - Hello Time 1秒设置成功
2025-09-08 10:16:59,514 - test_parameters - INFO - 设置Hello Time: 2秒
2025-09-08 10:17:01,597 - test_parameters - INFO - Hello Time 2秒设置成功
2025-09-08 10:17:01,597 - test_parameters - INFO - 设置Hello Time: 5秒
2025-09-08 10:17:03,682 - test_parameters - INFO - Hello Time 5秒设置成功
2025-09-08 10:17:03,682 - test_parameters - INFO - Hello Time测试通过
2025-09-08 10:17:03,683 - RSTPTest - INFO - 测试完成: test_hello_time (耗时: 6.25秒)
2025-09-08 10:17:03,684 - RSTPTest - INFO - ============================================================

2025-09-08 10:17:03,685 - RSTPTest - INFO - ============================================================
2025-09-08 10:17:03,685 - RSTPTest - INFO - 开始测试: test_forward_delay
2025-09-08 10:17:03,685 - RSTPTest - INFO - ============================================================
2025-09-08 10:17:03,686 - test_parameters - INFO - 测试Forward Delay参数
2025-09-08 10:17:03,686 - test_parameters - INFO - 设置Forward Delay: 4秒
2025-09-08 10:17:05,764 - test_parameters - INFO - Forward Delay 4秒设置成功
2025-09-08 10:17:05,764 - test_parameters - INFO - 设置Forward Delay: 10秒
2025-09-08 10:17:07,843 - test_parameters - INFO - Forward Delay 10秒设置成功
2025-09-08 10:17:07,843 - test_parameters - INFO - 设置Forward Delay: 15秒
2025-09-08 10:17:09,922 - test_parameters - INFO - Forward Delay 15秒设置成功
2025-09-08 10:17:09,922 - test_parameters - INFO - Forward Delay测试通过
2025-09-08 10:17:09,923 - RSTPTest - INFO - 测试完成: test_forward_delay (耗时: 6.24秒)
2025-09-08 10:17:09,923 - RSTPTest - INFO - ============================================================

2025-09-08 10:17:09,924 - RSTPTest - INFO - ============================================================
2025-09-08 10:17:09,925 - RSTPTest - INFO - 开始测试: test_max_age
2025-09-08 10:17:09,925 - RSTPTest - INFO - ============================================================
2025-09-08 10:17:09,925 - test_parameters - INFO - 测试Max Age参数
2025-09-08 10:17:09,925 - test_parameters - INFO - 设置Max Age: 6秒
2025-09-08 10:17:12,002 - test_parameters - INFO - Max Age 6秒设置成功
2025-09-08 10:17:12,002 - test_parameters - INFO - 设置Max Age: 10秒
2025-09-08 10:17:14,082 - test_parameters - INFO - Max Age 10秒设置成功
2025-09-08 10:17:14,082 - test_parameters - INFO - 设置Max Age: 20秒
2025-09-08 10:17:16,165 - test_parameters - INFO - Max Age 20秒设置成功
2025-09-08 10:17:16,165 - test_parameters - INFO - Max Age测试通过
2025-09-08 10:17:16,166 - RSTPTest - INFO - 测试完成: test_max_age (耗时: 6.24秒)
2025-09-08 10:17:16,167 - RSTPTest - INFO - ============================================================

2025-09-08 10:17:16,513 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-08 10:17:16,513 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-08 10:17:16,818 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-08 10:17:16,818 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-08 10:17:16,819 - RSTPTest - INFO - ============================================================
2025-09-08 10:17:16,819 - RSTPTest - INFO - 开始测试: test_port_cost
2025-09-08 10:17:16,819 - RSTPTest - INFO - ============================================================
2025-09-08 10:17:16,820 - test_parameters - INFO - 测试端口路径成本
2025-09-08 10:17:16,821 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:17:16,821 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:17:16,821 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:17:16,821 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:17:16,822 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:17:16,822 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-08 10:17:16,822 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-08 10:17:16,827 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-08 10:17:16,828 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-08 10:17:16,882 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-08 10:17:16,882 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-08 10:17:16,882 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:17:16,883 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:17:17,208 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:17:17,208 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:17:17,589 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:17:17,589 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:17:17,589 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:17:17,589 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:17:17,809 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:17:18,049 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:17:18,049 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:17:18,105 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:17:18,202 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:17:18,202 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:17:18,202 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:17:18,202 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:17:18,203 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:17:18,203 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-08 10:17:18,203 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-08 10:17:18,220 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-08 10:17:18,220 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-08 10:17:18,405 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-08 10:17:18,406 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-08 10:17:18,751 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:17:20,900 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-08 10:17:20,900 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-08 10:17:20,900 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-08 10:17:20,900 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:17:20,901 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:17:21,990 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:17:24,210 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:17:24,210 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:17:24,210 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:17:24,211 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:17:24,887 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:17:25,567 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:17:25,567 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:17:25,909 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:17:25,972 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:17:26,031 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:17:26,031 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:17:26,032 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:17:26,032 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:17:26,032 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:17:26,032 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-08 10:17:26,032 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-08 10:17:26,049 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-08 10:17:26,050 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-08 10:17:26,225 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-08 10:17:26,225 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-08 10:17:26,552 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:17:28,685 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-08 10:17:28,685 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-08 10:17:28,686 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-08 10:17:28,686 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:17:28,686 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:17:29,823 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:18:31,575 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:18:31,575 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:18:31,576 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:18:31,576 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:18:52,108 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:19:12,643 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:19:12,643 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:19:19,993 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:19:20,062 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:19:20,128 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:19:20,128 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:19:20,128 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:19:25,129 - test_parameters - INFO - 设置端口eth0成本: 10
2025-09-08 10:19:25,130 - test_parameters - INFO - 设置端口eth0成本: 100
2025-09-08 10:19:25,130 - test_parameters - INFO - 设置端口eth0成本: 1000
2025-09-08 10:19:25,130 - test_parameters - INFO - 设置端口eth0成本: 20000
2025-09-08 10:19:25,131 - test_parameters - INFO - 端口成本测试通过
2025-09-08 10:19:25,131 - RSTPTest - INFO - 测试完成: test_port_cost (耗时: 128.31秒)
2025-09-08 10:19:25,132 - RSTPTest - INFO - ============================================================

2025-09-08 10:19:25,133 - RSTPTest - INFO - ============================================================
2025-09-08 10:19:25,133 - RSTPTest - INFO - 开始测试: test_parameter_persistence
2025-09-08 10:19:25,133 - RSTPTest - INFO - ============================================================
2025-09-08 10:19:25,134 - test_parameters - INFO - 测试参数持久性
2025-09-08 10:19:28,832 - test_parameters - INFO - 参数持久性测试通过
2025-09-08 10:19:28,833 - RSTPTest - INFO - 测试完成: test_parameter_persistence (耗时: 3.70秒)
2025-09-08 10:19:28,834 - RSTPTest - INFO - ============================================================

2025-09-08 10:19:28,835 - RSTPTest - INFO - ============================================================
2025-09-08 10:19:28,835 - RSTPTest - INFO - 开始测试: test_parameter_boundaries
2025-09-08 10:19:28,835 - RSTPTest - INFO - ============================================================
2025-09-08 10:19:28,836 - test_parameters - INFO - 测试参数边界值
2025-09-08 10:19:28,889 - test_parameters - INFO - 最小值0: 失败
2025-09-08 10:19:28,941 - test_parameters - INFO - 最大值65535: 失败
2025-09-08 10:19:28,998 - test_parameters - INFO - 正确拒绝了无效值-1
2025-09-08 10:19:29,050 - test_parameters - INFO - 正确拒绝了无效值65536
2025-09-08 10:19:29,106 - test_parameters - INFO - 最小值1: 失败
2025-09-08 10:19:29,161 - test_parameters - INFO - 最大值10: 失败
2025-09-08 10:19:29,217 - test_parameters - INFO - 正确拒绝了无效值0
2025-09-08 10:19:29,274 - test_parameters - INFO - 正确拒绝了无效值11
2025-09-08 10:19:29,334 - test_parameters - INFO - 最小值4: 失败
2025-09-08 10:19:29,385 - test_parameters - INFO - 最大值30: 失败
2025-09-08 10:19:29,438 - test_parameters - INFO - 正确拒绝了无效值3
2025-09-08 10:19:29,493 - test_parameters - INFO - 正确拒绝了无效值31
2025-09-08 10:19:29,550 - test_parameters - INFO - 最小值6: 失败
2025-09-08 10:19:29,602 - test_parameters - INFO - 最大值40: 失败
2025-09-08 10:19:29,661 - test_parameters - INFO - 正确拒绝了无效值5
2025-09-08 10:19:29,713 - test_parameters - INFO - 正确拒绝了无效值41
2025-09-08 10:19:29,714 - test_parameters - INFO - 参数边界测试完成
2025-09-08 10:19:29,715 - RSTPTest - INFO - 测试完成: test_parameter_boundaries (耗时: 0.88秒)
2025-09-08 10:19:29,715 - RSTPTest - INFO - ============================================================

2025-09-08 10:19:29,716 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-08 10:19:29,716 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-08 10:19:29,717 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-08 10:19:29,849 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-08 10:19:29,849 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-08 10:19:30,194 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-08 10:19:30,195 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-08 10:19:30,501 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-08 10:19:30,501 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-08 10:19:30,502 - RSTPTest - INFO - ============================================================
2025-09-08 10:19:30,502 - RSTPTest - INFO - 开始测试: test_root_bridge_election
2025-09-08 10:19:30,502 - RSTPTest - INFO - ============================================================
2025-09-08 10:19:30,503 - test_protocol_conformance - INFO - 开始根网桥选举测试
2025-09-08 10:19:30,503 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:19:30,504 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:19:30,504 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:19:30,504 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:19:30,504 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:19:30,505 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-08 10:19:30,505 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-08 10:19:30,511 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-08 10:19:30,511 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-08 10:19:30,567 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-08 10:19:30,568 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-08 10:19:30,568 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:19:30,568 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:19:30,888 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:19:30,889 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:19:31,271 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:19:31,271 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:19:31,272 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:19:31,272 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:19:31,490 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:19:31,731 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:19:31,731 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:19:31,786 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:19:31,883 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:19:31,883 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:19:31,884 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:19:31,884 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:19:31,884 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:19:31,884 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-08 10:19:31,884 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-08 10:19:31,901 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-08 10:19:31,901 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-08 10:19:32,081 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-08 10:19:32,082 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-08 10:19:32,419 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:19:34,563 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-08 10:19:34,563 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-08 10:19:34,564 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-08 10:19:34,564 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:19:34,564 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:19:35,644 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:19:37,798 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:19:37,799 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:19:37,799 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:19:37,799 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:19:38,486 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:19:39,175 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:19:39,176 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:19:39,529 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:19:39,614 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:19:39,671 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:19:39,672 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:19:39,672 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:19:39,672 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:19:39,672 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:19:39,672 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-08 10:19:39,673 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-08 10:19:39,690 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-08 10:19:39,690 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-08 10:19:46,123 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-08 10:19:46,124 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-08 10:19:56,394 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:20:01,612 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-08 10:20:01,612 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-08 10:20:01,612 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-08 10:20:01,613 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:20:01,613 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:20:17,643 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:20:19,820 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:20:19,820 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:20:19,820 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:19,821 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:20:20,476 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:20:21,575 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:20:21,575 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:20:21,915 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:20:21,990 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:20:22,048 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:20:22,048 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:20:22,049 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:20:27,573 - RSTPTest - INFO - 测试完成: test_root_bridge_election (耗时: 57.07秒)
2025-09-08 10:20:27,573 - RSTPTest - INFO - ============================================================

2025-09-08 10:20:27,575 - RSTPTest - INFO - ============================================================
2025-09-08 10:20:27,575 - RSTPTest - INFO - 开始测试: test_port_role_assignment
2025-09-08 10:20:27,575 - RSTPTest - INFO - ============================================================
2025-09-08 10:20:27,576 - test_protocol_conformance - INFO - 开始端口角色分配测试
2025-09-08 10:20:27,576 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:20:27,576 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:20:27,576 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:20:27,576 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:20:27,577 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:20:27,577 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:20:27,577 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:20:27,577 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:20:27,875 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:20:27,876 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:20:28,266 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:20:28,266 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:20:28,266 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:28,267 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:20:28,495 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:20:28,731 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:20:28,731 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:20:28,786 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:20:28,891 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:20:28,891 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:20:28,891 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:20:28,891 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:20:28,892 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:20:28,892 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:20:28,892 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:20:28,892 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:20:29,955 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:20:32,171 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:20:32,171 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:20:32,172 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:32,172 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:20:32,864 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:20:33,543 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:20:33,544 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:20:33,877 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:20:33,947 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:20:34,005 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:20:34,006 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:20:34,006 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:20:34,006 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:20:34,006 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:20:34,006 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:20:34,007 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:20:34,007 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:20:35,028 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:20:37,167 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:20:37,167 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:20:37,167 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:37,168 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:20:37,836 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:20:38,492 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:20:38,493 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:20:38,833 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:20:38,903 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:20:38,965 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:20:38,966 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:20:38,966 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:20:44,456 - RSTPTest - INFO - 测试完成: test_port_role_assignment (耗时: 16.88秒)
2025-09-08 10:20:44,456 - RSTPTest - INFO - ============================================================

2025-09-08 10:20:44,458 - RSTPTest - INFO - ============================================================
2025-09-08 10:20:44,458 - RSTPTest - INFO - 开始测试: test_rstp_protocol_verification
2025-09-08 10:20:44,458 - RSTPTest - INFO - ============================================================
2025-09-08 10:20:44,459 - test_protocol_conformance - INFO - 开始RSTP协议验证
2025-09-08 10:20:44,504 - RSTPAnalyzer_DUT - INFO - 开始捕获BPDU包 (接口: eth0, 数量: 5)
2025-09-08 10:20:44,583 - RSTPAnalyzer_DUT - INFO - 捕获到 0 个BPDU包
2025-09-08 10:20:44,591 - RSTPTest - INFO - 测试完成: test_rstp_protocol_verification (耗时: 0.13秒)
2025-09-08 10:20:44,591 - RSTPTest - INFO - ============================================================

2025-09-08 10:20:44,592 - RSTPTest - INFO - ============================================================
2025-09-08 10:20:44,593 - RSTPTest - INFO - 开始测试: test_topology_change_notification
2025-09-08 10:20:44,593 - RSTPTest - INFO - ============================================================
2025-09-08 10:20:44,594 - test_protocol_conformance - INFO - 开始拓扑变更通知测试
2025-09-08 10:20:44,594 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:20:44,594 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:20:44,594 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:20:44,594 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:20:44,594 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:20:44,594 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:20:44,595 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:20:44,595 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:20:44,885 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:20:44,885 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:20:45,277 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:20:45,278 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:20:45,278 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:45,278 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:20:45,493 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:20:45,729 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:20:45,729 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:20:45,786 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:20:45,881 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:20:45,882 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:20:45,882 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:20:45,882 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:20:45,882 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:20:45,883 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:20:45,883 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:20:45,883 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:20:47,002 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:20:49,234 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:20:49,235 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:20:49,235 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:49,235 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:20:49,921 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:20:50,615 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:20:50,616 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:20:50,953 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:20:51,027 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:20:51,086 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:20:51,086 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:20:51,086 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:20:51,086 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:20:51,087 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:20:51,087 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:20:51,087 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:20:51,087 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:20:52,160 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:20:54,687 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:20:54,687 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:20:54,687 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:20:54,688 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:20:55,474 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:20:56,169 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:20:56,169 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:20:56,512 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:20:56,581 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:20:56,639 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:20:56,639 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:20:56,639 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:21:01,827 - FaultInjector_DUT - INFO - 断开链路: eth0
2025-09-08 10:21:01,940 - FaultInjector_DUT - WARNING - 无法实际断开链路 eth0 (code=1)，将在逻辑上标记为已断开
2025-09-08 10:21:03,941 - FaultInjector_DUT - INFO - 恢复链路: eth0
2025-09-08 10:21:04,017 - FaultInjector_DUT - WARNING - 无法实际恢复链路 eth0 (code=1)，将在逻辑上标记为已恢复
2025-09-08 10:21:09,215 - RSTPTest - INFO - 测试完成: test_topology_change_notification (耗时: 24.62秒)
2025-09-08 10:21:09,215 - RSTPTest - INFO - ============================================================

2025-09-08 10:21:09,215 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-08 10:21:09,216 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-08 10:21:09,216 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-08 10:21:09,359 - SSH_DUT - INFO - SSH连接成功: DUT (192.168.1.123)
2025-09-08 10:21:09,359 - RSTPTest - INFO - 成功连接到DUT: DUT
2025-09-08 10:21:09,706 - SSH_TestNode1 - INFO - SSH连接成功: TestNode1 (192.168.13.136)
2025-09-08 10:21:09,707 - RSTPTest - INFO - 成功连接到节点: TestNode1
2025-09-08 10:21:10,013 - SSH_TestNode2 - INFO - SSH连接成功: TestNode2 (192.168.13.137)
2025-09-08 10:21:10,013 - RSTPTest - INFO - 成功连接到节点: TestNode2
2025-09-08 10:21:10,014 - RSTPTest - INFO - ============================================================
2025-09-08 10:21:10,014 - RSTPTest - INFO - 开始测试: test_root_bridge_hijack_attack
2025-09-08 10:21:10,014 - RSTPTest - INFO - ============================================================
2025-09-08 10:21:10,015 - test_security - INFO - 开始根网桥劫持攻击测试
2025-09-08 10:21:10,015 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:21:10,015 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:21:10,015 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:21:10,015 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:21:10,015 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:21:10,016 - NetworkTopology - INFO - DUT: 开始检测RSTP支持方法...
2025-09-08 10:21:10,016 - NetworkTopology - INFO - DUT: 检查OVS支持...
2025-09-08 10:21:10,021 - NetworkTopology - INFO - DUT: ovs-vsctl检查结果: code=0
2025-09-08 10:21:10,021 - NetworkTopology - INFO - DUT: 检查OVS服务状态...
2025-09-08 10:21:10,078 - NetworkTopology - INFO - DUT: OVS服务状态检查: code=0, output=active
2025-09-08 10:21:10,078 - NetworkTopology - INFO - DUT: 检测到OVS支持
2025-09-08 10:21:10,078 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:21:10,079 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:21:10,424 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:21:10,424 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:21:10,833 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:21:10,833 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:21:10,834 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:21:10,834 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:21:11,057 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:21:11,296 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:21:11,297 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:21:11,352 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:21:11,449 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:21:11,450 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:21:11,450 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:21:11,450 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:21:11,451 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:21:11,451 - NetworkTopology - INFO - TestNode1: 开始检测RSTP支持方法...
2025-09-08 10:21:11,451 - NetworkTopology - INFO - TestNode1: 检查mstpd支持...
2025-09-08 10:21:11,469 - NetworkTopology - INFO - TestNode1: mstpd检查结果: code=0
2025-09-08 10:21:11,470 - NetworkTopology - INFO - TestNode1: 检查mstpd服务状态...
2025-09-08 10:21:11,659 - NetworkTopology - INFO - TestNode1: mstpd服务状态: code=1, output=
2025-09-08 10:21:11,659 - NetworkTopology - INFO - TestNode1: 尝试启动mstpd服务...
2025-09-08 10:21:12,010 - NetworkTopology - INFO - TestNode1: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:21:14,158 - NetworkTopology - INFO - TestNode1: mstpd启动后状态: code=1
2025-09-08 10:21:14,158 - NetworkTopology - INFO - TestNode1: mstpd启动失败，使用iproute2
2025-09-08 10:21:14,159 - NetworkTopology - INFO - TestNode1: 最终选择RSTP方法: iproute2
2025-09-08 10:21:14,159 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:21:14,159 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:21:15,210 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:21:17,424 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:21:17,424 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:21:17,424 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:21:17,425 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:21:18,119 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:21:18,825 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:21:18,826 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:21:19,183 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:21:19,257 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:21:19,316 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:21:19,316 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:21:19,316 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:21:19,317 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:21:19,317 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:21:19,317 - NetworkTopology - INFO - TestNode2: 开始检测RSTP支持方法...
2025-09-08 10:21:19,317 - NetworkTopology - INFO - TestNode2: 检查mstpd支持...
2025-09-08 10:21:19,334 - NetworkTopology - INFO - TestNode2: mstpd检查结果: code=0
2025-09-08 10:21:19,335 - NetworkTopology - INFO - TestNode2: 检查mstpd服务状态...
2025-09-08 10:21:19,521 - NetworkTopology - INFO - TestNode2: mstpd服务状态: code=1, output=
2025-09-08 10:21:19,521 - NetworkTopology - INFO - TestNode2: 尝试启动mstpd服务...
2025-09-08 10:21:19,871 - NetworkTopology - INFO - TestNode2: mstpd启动命令结果: code=0, stderr=[sudo] admin 的密码：
2025-09-08 10:21:22,023 - NetworkTopology - INFO - TestNode2: mstpd启动后状态: code=1
2025-09-08 10:21:22,023 - NetworkTopology - INFO - TestNode2: mstpd启动失败，使用iproute2
2025-09-08 10:21:22,023 - NetworkTopology - INFO - TestNode2: 最终选择RSTP方法: iproute2
2025-09-08 10:21:22,024 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:21:22,024 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:21:23,062 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:21:25,254 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:21:25,254 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:21:25,255 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:21:25,255 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:21:25,911 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:21:26,567 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:21:26,567 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:21:26,915 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:21:26,979 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:21:27,038 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:21:27,038 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:21:27,039 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:21:32,772 - test_security - INFO - 初始根网桥: 
2025-09-08 10:21:32,772 - FaultInjector_TestNode1 - WARNING - 注入恶意BPDU到 eth0
2025-09-08 10:21:32,905 - FaultInjector_TestNode1 - WARNING - 恶意BPDU注入已启动 (优先级: 0)
2025-09-08 10:21:48,098 - test_security - INFO - 根网桥未被劫持（可能已启用防护）
2025-09-08 10:21:48,099 - test_security - INFO - 根网桥劫持攻击测试完成
2025-09-08 10:21:48,100 - RSTPTest - INFO - 测试完成: test_root_bridge_hijack_attack (耗时: 38.09秒)
2025-09-08 10:21:48,100 - RSTPTest - INFO - ============================================================

2025-09-08 10:21:48,101 - RSTPTest - INFO - ============================================================
2025-09-08 10:21:48,102 - RSTPTest - INFO - 开始测试: test_bpdu_flood_attack
2025-09-08 10:21:48,102 - RSTPTest - INFO - ============================================================
2025-09-08 10:21:48,103 - test_security - INFO - 开始BPDU洪泛攻击测试
2025-09-08 10:21:48,103 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:21:48,103 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:21:48,103 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:21:48,103 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:21:48,104 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:21:48,104 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:21:48,104 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:21:48,104 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:21:48,415 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:21:48,416 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:21:48,810 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:21:48,810 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:21:48,811 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:21:48,811 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:21:49,033 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:21:49,276 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:21:49,277 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:21:49,332 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:21:49,433 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:21:49,433 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:21:49,434 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:21:49,434 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:21:49,434 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:21:49,434 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:21:49,434 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:21:49,435 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:21:50,519 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:21:52,760 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:21:52,760 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:21:52,761 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:21:52,761 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:21:53,437 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:21:54,112 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:21:54,112 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:21:54,454 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:21:54,524 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:21:54,582 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:21:54,582 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:21:54,583 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:21:54,583 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:21:54,583 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:21:54,583 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:21:54,583 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:21:54,583 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:21:55,647 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:21:58,271 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:21:58,271 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:21:58,272 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:21:58,272 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:21:58,962 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:21:59,675 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:21:59,676 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:22:00,027 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:22:00,091 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:22:00,150 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:22:00,151 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:22:00,151 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:22:05,320 - test_security - INFO - 初始CPU使用率: 25.0%
2025-09-08 10:22:15,565 - test_security - INFO - 洪泛时CPU使用率: 0.0%
2025-09-08 10:22:15,794 - test_security - INFO - 网络在BPDU洪泛下保持稳定
2025-09-08 10:22:15,794 - test_security - INFO - BPDU洪泛攻击测试完成
2025-09-08 10:22:15,795 - RSTPTest - INFO - 测试完成: test_bpdu_flood_attack (耗时: 27.69秒)
2025-09-08 10:22:15,795 - RSTPTest - INFO - ============================================================

2025-09-08 10:22:15,796 - RSTPTest - INFO - ============================================================
2025-09-08 10:22:15,797 - RSTPTest - INFO - 开始测试: test_topology_change_attack
2025-09-08 10:22:15,797 - RSTPTest - INFO - ============================================================
2025-09-08 10:22:15,797 - test_security - INFO - 开始拓扑变更攻击测试
2025-09-08 10:22:15,798 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:22:15,798 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:22:15,798 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:22:15,798 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:22:15,798 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:22:15,799 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:22:15,799 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:22:15,799 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:22:16,131 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:22:16,131 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:22:16,520 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:22:16,520 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:22:16,520 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:22:16,520 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:22:16,740 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:22:16,977 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:22:16,978 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:22:17,037 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:22:17,137 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:22:17,137 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:22:17,137 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:22:17,137 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:22:17,138 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:22:17,138 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:22:17,138 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:22:17,138 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:22:18,202 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:22:20,399 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:22:20,399 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:22:20,399 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:22:20,399 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:22:21,081 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:22:21,764 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:22:21,764 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:22:22,110 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:22:22,186 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:22:22,247 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:22:22,248 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:22:22,248 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:22:22,248 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:22:22,248 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:22:22,248 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:22:22,249 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:22:22,249 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:22:23,327 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:22:25,611 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:22:25,611 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:22:25,612 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:22:25,612 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:22:26,289 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:22:26,948 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:22:26,949 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:22:27,290 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:22:27,369 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:22:27,429 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:22:27,429 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:22:27,430 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:22:32,630 - test_security - INFO - 触发快速拓扑变更...
2025-09-08 10:22:54,505 - test_security - INFO - 检测到0次拓扑变更
2025-09-08 10:22:54,737 - test_security - INFO - 网络在频繁拓扑变更后保持稳定
2025-09-08 10:22:54,737 - test_security - INFO - 拓扑变更攻击测试完成
2025-09-08 10:22:54,738 - RSTPTest - INFO - 测试完成: test_topology_change_attack (耗时: 38.94秒)
2025-09-08 10:22:54,738 - RSTPTest - INFO - ============================================================

2025-09-08 10:22:54,740 - RSTPTest - INFO - ============================================================
2025-09-08 10:22:54,740 - RSTPTest - INFO - 开始测试: test_mac_spoofing
2025-09-08 10:22:54,740 - RSTPTest - INFO - ============================================================
2025-09-08 10:22:54,740 - test_security - INFO - 开始MAC地址欺骗测试
2025-09-08 10:22:54,741 - NetworkTopology - INFO - 创建RSTP环形拓扑...
2025-09-08 10:22:54,741 - NetworkTopology - INFO - 可用节点数量: 3
2025-09-08 10:22:54,741 - NetworkTopology - INFO - 开始配置节点 1/3: DUT
2025-09-08 10:22:54,741 - NetworkTopology - INFO - 为节点 DUT 配置RSTP网桥...
2025-09-08 10:22:54,741 - NetworkTopology - INFO - 开始为 DUT 检测RSTP支持方法...
2025-09-08 10:22:54,741 - NetworkTopology - INFO - DUT: 使用缓存的RSTP方法: ovs
2025-09-08 10:22:54,742 - NetworkTopology - INFO - DUT 使用方法: ovs
2025-09-08 10:22:54,742 - NetworkTopology - INFO - 清理 DUT 的旧网桥配置...
2025-09-08 10:22:55,062 - NetworkTopology - INFO - 为 DUT 配置RSTP (ovs)...
2025-09-08 10:22:55,063 - NetworkTopology - INFO - DUT: 使用OVS配置RSTP
2025-09-08 10:22:55,463 - NetworkTopology - INFO - DUT: RSTP已通过OVS配置
2025-09-08 10:22:55,463 - NetworkTopology - INFO - DUT RSTP核心配置完成
2025-09-08 10:22:55,464 - NetworkTopology - INFO - 为 DUT 添加接口: ['eth0', 'eth2']
2025-09-08 10:22:55,464 - NetworkTopology - INFO - 添加接口 eth0 到 DUT 的网桥
2025-09-08 10:22:55,688 - NetworkTopology - INFO - 添加接口 eth2 到 DUT 的网桥
2025-09-08 10:22:55,931 - NetworkTopology - INFO - DUT 接口添加完成
2025-09-08 10:22:55,932 - NetworkTopology - INFO - 启动 DUT 的网桥 rstp0...
2025-09-08 10:22:55,988 - NetworkTopology - INFO - 验证 DUT 的RSTP配置...
2025-09-08 10:22:56,084 - NetworkTopology - INFO - DUT 网桥配置验证完成
2025-09-08 10:22:56,085 - NetworkTopology - INFO - 节点 DUT RSTP配置完成
2025-09-08 10:22:56,085 - NetworkTopology - INFO - 开始配置节点 2/3: TestNode1
2025-09-08 10:22:56,086 - NetworkTopology - INFO - 为节点 TestNode1 配置RSTP网桥...
2025-09-08 10:22:56,086 - NetworkTopology - INFO - 开始为 TestNode1 检测RSTP支持方法...
2025-09-08 10:22:56,086 - NetworkTopology - INFO - TestNode1: 使用缓存的RSTP方法: iproute2
2025-09-08 10:22:56,086 - NetworkTopology - INFO - TestNode1 使用方法: iproute2
2025-09-08 10:22:56,087 - NetworkTopology - INFO - 清理 TestNode1 的旧网桥配置...
2025-09-08 10:22:57,234 - NetworkTopology - INFO - 为 TestNode1 配置RSTP (iproute2)...
2025-09-08 10:22:59,491 - NetworkTopology - INFO - TestNode1: RSTP已通过iproute2配置
2025-09-08 10:22:59,491 - NetworkTopology - INFO - TestNode1 RSTP核心配置完成
2025-09-08 10:22:59,492 - NetworkTopology - INFO - 为 TestNode1 添加接口: ['eth0', 'eth2']
2025-09-08 10:22:59,492 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode1 的网桥
2025-09-08 10:23:00,183 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode1 的网桥
2025-09-08 10:23:00,854 - NetworkTopology - INFO - TestNode1 接口添加完成
2025-09-08 10:23:00,854 - NetworkTopology - INFO - 启动 TestNode1 的网桥 br0...
2025-09-08 10:23:01,198 - NetworkTopology - INFO - 验证 TestNode1 的RSTP配置...
2025-09-08 10:23:01,264 - NetworkTopology - INFO - TestNode1: STP/RSTP已启用
2025-09-08 10:23:01,323 - NetworkTopology - INFO - TestNode1 网桥配置验证完成
2025-09-08 10:23:01,323 - NetworkTopology - INFO - 节点 TestNode1 RSTP配置完成
2025-09-08 10:23:01,323 - NetworkTopology - INFO - 开始配置节点 3/3: TestNode2
2025-09-08 10:23:01,323 - NetworkTopology - INFO - 为节点 TestNode2 配置RSTP网桥...
2025-09-08 10:23:01,323 - NetworkTopology - INFO - 开始为 TestNode2 检测RSTP支持方法...
2025-09-08 10:23:01,324 - NetworkTopology - INFO - TestNode2: 使用缓存的RSTP方法: iproute2
2025-09-08 10:23:01,324 - NetworkTopology - INFO - TestNode2 使用方法: iproute2
2025-09-08 10:23:01,324 - NetworkTopology - INFO - 清理 TestNode2 的旧网桥配置...
2025-09-08 10:23:02,321 - NetworkTopology - INFO - 为 TestNode2 配置RSTP (iproute2)...
2025-09-08 10:23:04,482 - NetworkTopology - INFO - TestNode2: RSTP已通过iproute2配置
2025-09-08 10:23:04,482 - NetworkTopology - INFO - TestNode2 RSTP核心配置完成
2025-09-08 10:23:04,482 - NetworkTopology - INFO - 为 TestNode2 添加接口: ['eth0', 'eth2']
2025-09-08 10:23:04,482 - NetworkTopology - INFO - 添加接口 eth0 到 TestNode2 的网桥
2025-09-08 10:23:05,129 - NetworkTopology - INFO - 添加接口 eth2 到 TestNode2 的网桥
2025-09-08 10:23:05,817 - NetworkTopology - INFO - TestNode2 接口添加完成
2025-09-08 10:23:05,818 - NetworkTopology - INFO - 启动 TestNode2 的网桥 br0...
2025-09-08 10:23:06,158 - NetworkTopology - INFO - 验证 TestNode2 的RSTP配置...
2025-09-08 10:23:06,224 - NetworkTopology - INFO - TestNode2: STP/RSTP已启用
2025-09-08 10:23:06,282 - NetworkTopology - INFO - TestNode2 网桥配置验证完成
2025-09-08 10:23:06,282 - NetworkTopology - INFO - 节点 TestNode2 RSTP配置完成
2025-09-08 10:23:06,283 - NetworkTopology - INFO - 环形拓扑创建完成
2025-09-08 10:23:11,289 - test_security - INFO - DUT MAC地址: 90:12:10:b5:7d:f7
2025-09-08 10:23:11,289 - test_security - INFO - 尝试MAC地址欺骗...
2025-09-08 10:23:17,534 - test_security - INFO - 网络对MAC欺骗具有抗性
2025-09-08 10:23:18,557 - test_security - INFO - MAC地址欺骗测试完成
2025-09-08 10:23:18,558 - RSTPTest - INFO - 测试完成: test_mac_spoofing (耗时: 23.82秒)
2025-09-08 10:23:18,558 - RSTPTest - INFO - ============================================================

2025-09-08 10:23:18,560 - RSTPTest - INFO - ============================================================
2025-09-08 10:23:18,560 - RSTPTest - INFO - 开始测试: test_port_security
2025-09-08 10:23:18,560 - RSTPTest - INFO - ============================================================
2025-09-08 10:23:18,561 - test_security - INFO - 开始端口安全测试
2025-09-08 10:23:18,566 - test_security - WARNING - 未检测到任何端口安全功能
2025-09-08 10:23:18,567 - RSTPTest - INFO - 测试完成: test_port_security (耗时: 0.01秒)
2025-09-08 10:23:18,568 - RSTPTest - INFO - ============================================================

2025-09-08 10:23:18,568 - SSH_TestNode1 - INFO - SSH连接已关闭: TestNode1
2025-09-08 10:23:18,568 - SSH_TestNode2 - INFO - SSH连接已关闭: TestNode2
2025-09-08 10:23:18,569 - SSH_DUT - INFO - SSH连接已关闭: DUT
2025-09-08 10:23:18,864 - __main__ - INFO - ============================================================
2025-09-08 10:23:18,864 - __main__ - INFO - 测试完成，返回码: 1
2025-09-08 10:23:18,864 - __main__ - INFO - ============================================================
